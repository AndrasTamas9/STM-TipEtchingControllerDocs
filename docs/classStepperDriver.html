<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM Tip Etching Controller: StepperDriver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">STM Tip Etching Controller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classStepperDriver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">StepperDriver Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Non-blocking stepper motor driver with position and velocity control.  
 <a href="classStepperDriver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="StepperDriver_8h_source.html">StepperDriver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5a98e773d52ed29050635fcb39523fdf" id="r_a5a98e773d52ed29050635fcb39523fdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a5a98e773d52ed29050635fcb39523fdf">StepperDriver</a> (uint8_t stepPin, uint8_t dirPin, uint8_t enablePin, float stepsPerRev, int microsteps, float lead_mm, float max_mm_s)</td></tr>
<tr class="memdesc:a5a98e773d52ed29050635fcb39523fdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classStepperDriver.html" title="Non-blocking stepper motor driver with position and velocity control.">StepperDriver</a>.  <br /></td></tr>
<tr class="separator:a5a98e773d52ed29050635fcb39523fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ddf3dd4e038a8818de8a7200ddb4ec" id="r_a08ddf3dd4e038a8818de8a7200ddb4ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a08ddf3dd4e038a8818de8a7200ddb4ec">enable</a> (bool on)</td></tr>
<tr class="memdesc:a08ddf3dd4e038a8818de8a7200ddb4ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable the stepper driver.  <br /></td></tr>
<tr class="separator:a08ddf3dd4e038a8818de8a7200ddb4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa4f67459e8366e83a2827fc4e8cf3a" id="r_a8fa4f67459e8366e83a2827fc4e8cf3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a8fa4f67459e8366e83a2827fc4e8cf3a">setSpeedMmPerSec</a> (float v)</td></tr>
<tr class="memdesc:a8fa4f67459e8366e83a2827fc4e8cf3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set continuous motion speed in mm/s.  <br /></td></tr>
<tr class="separator:a8fa4f67459e8366e83a2827fc4e8cf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac202361e6f613a083200d36f664d64e7" id="r_ac202361e6f613a083200d36f664d64e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7">update</a> ()</td></tr>
<tr class="memdesc:ac202361e6f613a083200d36f664d64e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-blocking step scheduling; call frequently from loop().  <br /></td></tr>
<tr class="separator:ac202361e6f613a083200d36f664d64e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e0de882544ae00db697731210f161c8" id="r_a3e0de882544ae00db697731210f161c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a3e0de882544ae00db697731210f161c8">setPositionMm</a> (float pos_mm)</td></tr>
<tr class="memdesc:a3e0de882544ae00db697731210f161c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the logical position in millimeters.  <br /></td></tr>
<tr class="separator:a3e0de882544ae00db697731210f161c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1715971817716be1a64e8b5c6c2197" id="r_a4d1715971817716be1a64e8b5c6c2197"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a4d1715971817716be1a64e8b5c6c2197">positionMm</a> () const</td></tr>
<tr class="memdesc:a4d1715971817716be1a64e8b5c6c2197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current logical position in millimeters.  <br /></td></tr>
<tr class="separator:a4d1715971817716be1a64e8b5c6c2197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684df3fe1abfd0b9c94c06edd50ab60e" id="r_a684df3fe1abfd0b9c94c06edd50ab60e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a684df3fe1abfd0b9c94c06edd50ab60e">stepsPerMm</a> () const</td></tr>
<tr class="memdesc:a684df3fe1abfd0b9c94c06edd50ab60e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the internal conversion factor from millimeters to steps.  <br /></td></tr>
<tr class="separator:a684df3fe1abfd0b9c94c06edd50ab60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c79ca424c4833404335621a0f278d63" id="r_a8c79ca424c4833404335621a0f278d63"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a8c79ca424c4833404335621a0f278d63">defaultSpeed</a> () const</td></tr>
<tr class="memdesc:a8c79ca424c4833404335621a0f278d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default linear speed used when none is specified.  <br /></td></tr>
<tr class="separator:a8c79ca424c4833404335621a0f278d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a28a7c422746be35ae93f227169972b" id="r_a3a28a7c422746be35ae93f227169972b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a3a28a7c422746be35ae93f227169972b">moveToMm</a> (float x_mm, float v_mm_s)</td></tr>
<tr class="memdesc:a3a28a7c422746be35ae93f227169972b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a non-blocking move to an absolute position (mm).  <br /></td></tr>
<tr class="separator:a3a28a7c422746be35ae93f227169972b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388099ce07ad1e470799bab91943d2e0" id="r_a388099ce07ad1e470799bab91943d2e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a388099ce07ad1e470799bab91943d2e0">moveRelativeMm</a> (float dx_mm, float v_mm_s)</td></tr>
<tr class="memdesc:a388099ce07ad1e470799bab91943d2e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a non-blocking relative move (mm).  <br /></td></tr>
<tr class="separator:a388099ce07ad1e470799bab91943d2e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a66821f431c4db6d4f030c6b7003bd8" id="r_a4a66821f431c4db6d4f030c6b7003bd8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a4a66821f431c4db6d4f030c6b7003bd8">isBusy</a> () const</td></tr>
<tr class="memdesc:a4a66821f431c4db6d4f030c6b7003bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the driver is busy with a position move.  <br /></td></tr>
<tr class="separator:a4a66821f431c4db6d4f030c6b7003bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a73f31a24104215a8d9991208c15d17c7" id="r_a73f31a24104215a8d9991208c15d17c7"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7">Motion</a> : uint8_t { <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7ae599161956d626eda4cb0a5ffb85271c">Idle</a>
, <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7a88156d46910a2d733443c339a9231d12">Velocity</a>
, <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee">ToTarget</a>
 }</td></tr>
<tr class="memdesc:a73f31a24104215a8d9991208c15d17c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motion mode indicating how <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a> should behave.  <a href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7">More...</a><br /></td></tr>
<tr class="separator:a73f31a24104215a8d9991208c15d17c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acb72803a8fdbf2bd2e645b36a3d0306c" id="r_acb72803a8fdbf2bd2e645b36a3d0306c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#acb72803a8fdbf2bd2e645b36a3d0306c">stepOnce_</a> ()</td></tr>
<tr class="memdesc:acb72803a8fdbf2bd2e645b36a3d0306c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit a single step pulse and update the internal position counter.  <br /></td></tr>
<tr class="separator:acb72803a8fdbf2bd2e645b36a3d0306c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aaae4b3e978400dc77b6055403e54f0e4" id="r_aaae4b3e978400dc77b6055403e54f0e4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#aaae4b3e978400dc77b6055403e54f0e4">pSTEP_</a></td></tr>
<tr class="separator:aaae4b3e978400dc77b6055403e54f0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e918f1caba8a113e5eea5408f6eefd1" id="r_a2e918f1caba8a113e5eea5408f6eefd1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a2e918f1caba8a113e5eea5408f6eefd1">pDIR_</a></td></tr>
<tr class="separator:a2e918f1caba8a113e5eea5408f6eefd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac446b04b084fa02e6e3acb72c9bb3e87" id="r_ac446b04b084fa02e6e3acb72c9bb3e87"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#ac446b04b084fa02e6e3acb72c9bb3e87">pEN_</a></td></tr>
<tr class="separator:ac446b04b084fa02e6e3acb72c9bb3e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad3a4064eefd8f60b77a5f0ecd30005" id="r_a1ad3a4064eefd8f60b77a5f0ecd30005"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a1ad3a4064eefd8f60b77a5f0ecd30005">stepsPerMm_</a></td></tr>
<tr class="separator:a1ad3a4064eefd8f60b77a5f0ecd30005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3beeac05fe7b539e13b19aaa8bf921ab" id="r_a3beeac05fe7b539e13b19aaa8bf921ab"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a3beeac05fe7b539e13b19aaa8bf921ab">default_mm_s_</a></td></tr>
<tr class="separator:a3beeac05fe7b539e13b19aaa8bf921ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab056dc3943b19eb5786b265899519d75" id="r_ab056dc3943b19eb5786b265899519d75"><td class="memItemLeft" align="right" valign="top">volatile long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#ab056dc3943b19eb5786b265899519d75">pos_steps_</a> = 0</td></tr>
<tr class="memdesc:ab056dc3943b19eb5786b265899519d75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software position counter in steps.  <br /></td></tr>
<tr class="separator:ab056dc3943b19eb5786b265899519d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8235855882fd0d2da39dc560d19dcd89" id="r_a8235855882fd0d2da39dc560d19dcd89"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a8235855882fd0d2da39dc560d19dcd89">speed_mm_s_</a> = 0.0f</td></tr>
<tr class="memdesc:a8235855882fd0d2da39dc560d19dcd89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current target speed in mm/s (signed).  <br /></td></tr>
<tr class="separator:a8235855882fd0d2da39dc560d19dcd89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815337d2a4cccbc176779b168ae96f8e" id="r_a815337d2a4cccbc176779b168ae96f8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a815337d2a4cccbc176779b168ae96f8e">dir_</a> = true</td></tr>
<tr class="memdesc:a815337d2a4cccbc176779b168ae96f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direction flag: true = positive (DIR=HIGH).  <br /></td></tr>
<tr class="separator:a815337d2a4cccbc176779b168ae96f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab159e1daba57baba88fbac2f0a0be098" id="r_ab159e1daba57baba88fbac2f0a0be098"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#ab159e1daba57baba88fbac2f0a0be098">tNextStep_</a> = 0</td></tr>
<tr class="memdesc:ab159e1daba57baba88fbac2f0a0be098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timestamp (µs) when the next step is due.  <br /></td></tr>
<tr class="separator:ab159e1daba57baba88fbac2f0a0be098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30490800cd0c2b3ebfd7f50550fae622" id="r_a30490800cd0c2b3ebfd7f50550fae622"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7">Motion</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#a30490800cd0c2b3ebfd7f50550fae622">motion_</a> = <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7ae599161956d626eda4cb0a5ffb85271c">Motion::Idle</a></td></tr>
<tr class="memdesc:a30490800cd0c2b3ebfd7f50550fae622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current motion mode.  <br /></td></tr>
<tr class="separator:a30490800cd0c2b3ebfd7f50550fae622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaaefee65b66fd14e7f5acd8ea8f0c5e" id="r_abaaefee65b66fd14e7f5acd8ea8f0c5e"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperDriver.html#abaaefee65b66fd14e7f5acd8ea8f0c5e">target_steps_</a> = 0</td></tr>
<tr class="memdesc:abaaefee65b66fd14e7f5acd8ea8f0c5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Target position in steps for ToTarget mode.  <br /></td></tr>
<tr class="separator:abaaefee65b66fd14e7f5acd8ea8f0c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Non-blocking stepper motor driver with position and velocity control. </p>
<p><a class="el" href="classStepperDriver.html" title="Non-blocking stepper motor driver with position and velocity control.">StepperDriver</a> controls a stepper motor through STEP/DIR/ENABLE pins and provides:</p><ul>
<li>basic enable/disable control of the driver,</li>
<li>continuous velocity control in mm/s (setSpeedMmPerSec),</li>
<li>absolute/relative position moves in mm (moveToMm, moveRelativeMm),</li>
<li>a non-blocking <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a> method that must be called frequently from loop().</li>
</ul>
<p>Internally, it maintains a software position counter in steps and converts between millimeters and steps based on:</p><ul>
<li>stepsPerRev (full steps per revolution),</li>
<li>microsteps (microstepping factor),</li>
<li>lead_mm (screw lead in mm per revolution). </li>
</ul>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a73f31a24104215a8d9991208c15d17c7" name="a73f31a24104215a8d9991208c15d17c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73f31a24104215a8d9991208c15d17c7">&#9670;&#160;</a></span>Motion</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7">StepperDriver::Motion</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Motion mode indicating how <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a> should behave. </p>
<ul>
<li>Idle : no motion, speed is zero.</li>
<li>Velocity : continuous motion at the configured speed.</li>
<li>ToTarget : move until the internal target position is reached. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a73f31a24104215a8d9991208c15d17c7ae599161956d626eda4cb0a5ffb85271c" name="a73f31a24104215a8d9991208c15d17c7ae599161956d626eda4cb0a5ffb85271c"></a>Idle&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73f31a24104215a8d9991208c15d17c7a88156d46910a2d733443c339a9231d12" name="a73f31a24104215a8d9991208c15d17c7a88156d46910a2d733443c339a9231d12"></a>Velocity&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee" name="a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee"></a>ToTarget&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5a98e773d52ed29050635fcb39523fdf" name="a5a98e773d52ed29050635fcb39523fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a98e773d52ed29050635fcb39523fdf">&#9670;&#160;</a></span>StepperDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StepperDriver::StepperDriver </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>stepPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dirPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enablePin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>stepsPerRev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>microsteps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>lead_mm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_mm_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classStepperDriver.html" title="Non-blocking stepper motor driver with position and velocity control.">StepperDriver</a>. </p>
<p>Construct a new <a class="el" href="classStepperDriver.html" title="Non-blocking stepper motor driver with position and velocity control.">StepperDriver</a> object.</p>
<p>This constructor does not move the motor but configures:</p><ul>
<li>STEP, DIR, and ENABLE pins as outputs,</li>
<li>the steps-per-mm scaling factor,</li>
<li>a default speed (half of the max_mm_s parameter).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stepPin</td><td>Arduino pin connected to the STEP input of the driver. </td></tr>
    <tr><td class="paramname">dirPin</td><td>Arduino pin connected to the DIR input of the driver. </td></tr>
    <tr><td class="paramname">enablePin</td><td>Arduino pin connected to the ENABLE input of the driver. </td></tr>
    <tr><td class="paramname">stepsPerRev</td><td>Number of full steps per motor revolution (e.g. 200). </td></tr>
    <tr><td class="paramname">microsteps</td><td>Microstepping factor (e.g. 16, 32). </td></tr>
    <tr><td class="paramname">lead_mm</td><td>Lead screw pitch (mm per revolution). </td></tr>
    <tr><td class="paramname">max_mm_s</td><td>Maximum allowed linear speed in mm/s.</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes the control pins and computes the conversion from millimeters to motor steps.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stepPin</td><td>Digital pin used for STEP pulses. </td></tr>
    <tr><td class="paramname">dirPin</td><td>Digital pin used for direction control. </td></tr>
    <tr><td class="paramname">enablePin</td><td>Digital pin used to enable/disable the driver. </td></tr>
    <tr><td class="paramname">stepsPerRev</td><td>Motor full steps per revolution (e.g. 200 for 1.8°). </td></tr>
    <tr><td class="paramname">microsteps</td><td>Microstepping factor (e.g. 16, 32). </td></tr>
    <tr><td class="paramname">lead_mm</td><td>Lead screw pitch in mm/revolution. </td></tr>
    <tr><td class="paramname">max_mm_s</td><td>Maximum allowed linear speed in mm/s. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8c79ca424c4833404335621a0f278d63" name="a8c79ca424c4833404335621a0f278d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c79ca424c4833404335621a0f278d63">&#9670;&#160;</a></span>defaultSpeed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float StepperDriver::defaultSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the default linear speed used when none is specified. </p>
<p>This is typically half of the maximum speed given at construction.</p>
<dl class="section return"><dt>Returns</dt><dd>Default motion speed in mm/s. </dd></dl>

</div>
</div>
<a id="a08ddf3dd4e038a8818de8a7200ddb4ec" name="a08ddf3dd4e038a8818de8a7200ddb4ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ddf3dd4e038a8818de8a7200ddb4ec">&#9670;&#160;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperDriver::enable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable or disable the stepper driver. </p>
<p>This directly toggles the ENABLE pin of the driver. For a TMC2209, EN LOW typically means "enabled" and EN HIGH means "disabled".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on</td><td>True to enable the driver outputs, false to disable them.</td></tr>
    <tr><td class="paramname">on</td><td>True to enable the driver (outputs active), false to disable it. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a08ddf3dd4e038a8818de8a7200ddb4ec_icgraph.png" border="0" usemap="#aclassStepperDriver_a08ddf3dd4e038a8818de8a7200ddb4ec_icgraph" alt=""/></div>
<map name="aclassStepperDriver_a08ddf3dd4e038a8818de8a7200ddb4ec_icgraph" id="aclassStepperDriver_a08ddf3dd4e038a8818de8a7200ddb4ec_icgraph">
<area shape="rect" title="Enable or disable the stepper driver." alt="" coords="195,179,359,204"/>
<area shape="rect" href="classHomeMode.html#ab15a4de72b54a3a96bf7691259f14e00" title="Initialize the HOME mode." alt="" coords="5,5,147,31"/>
<area shape="poly" title=" " alt="" coords="258,169,212,107,181,73,145,44,124,33,126,28,148,40,184,69,216,103,262,165"/>
<area shape="rect" href="classMod1Mode.html#aca5d7fc6351f06fb181fa358024138a8" title="Initialize MOD1 mode." alt="" coords="7,55,145,80"/>
<area shape="poly" title=" " alt="" coords="250,171,204,132,145,94,120,83,122,78,148,89,207,128,254,167"/>
<area shape="rect" href="classMod2Mode.html#a0fb9e060e1716ae9c15d25667c09c1e5" title="Initialize MOD2 mode." alt="" coords="7,104,145,129"/>
<area shape="poly" title=" " alt="" coords="230,176,146,143,114,132,116,127,148,138,232,171"/>
<area shape="rect" href="classJogMode.html#ac9851d5ae59f910d10f416806a3c33a1" title="Initialize JogMode." alt="" coords="15,153,137,179"/>
<area shape="poly" title=" " alt="" coords="180,182,137,176,138,171,181,177"/>
<area shape="rect" href="classHomeMode.html#a1fb3362016453bd5a2e6eda2f1f2918f" title="Cleanup performed when exiting HOME mode." alt="" coords="11,203,141,228"/>
<area shape="poly" title=" " alt="" coords="181,205,141,210,141,205,180,200"/>
<area shape="rect" href="classMod1Mode.html#a8afb69c5a4ddc402cc7b8c7b9337087b" title="Cleanup performed when leaving MOD1 mode." alt="" coords="13,252,139,277"/>
<area shape="poly" title=" " alt="" coords="230,211,148,242,113,254,111,249,146,237,228,206"/>
<area shape="rect" href="classMod2Mode.html#a0fa0d62e0279bc87e128dddf7508da57" title="Cleanup performed when leaving MOD2 mode." alt="" coords="13,301,139,327"/>
<area shape="poly" title=" " alt="" coords="253,215,206,253,148,291,120,304,117,299,145,286,203,249,249,211"/>
<area shape="rect" href="classJogMode.html#a8135de6dbc1dae711b68bd53d5efb34c" title="Cleanup performed when leaving JogMode." alt="" coords="21,351,131,376"/>
<area shape="poly" title=" " alt="" coords="262,217,216,278,184,311,148,340,124,353,121,348,145,336,180,307,211,275,258,214"/>
</map>
</div>

</div>
</div>
<a id="a4a66821f431c4db6d4f030c6b7003bd8" name="a4a66821f431c4db6d4f030c6b7003bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a66821f431c4db6d4f030c6b7003bd8">&#9670;&#160;</a></span>isBusy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StepperDriver::isBusy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether the driver is busy with a position move. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the motion mode is <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee">Motion::ToTarget</a> (target not yet reached), </dd>
<dd>
false otherwise (idle or velocity mode). </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a4a66821f431c4db6d4f030c6b7003bd8_icgraph.png" border="0" usemap="#aclassStepperDriver_a4a66821f431c4db6d4f030c6b7003bd8_icgraph" alt=""/></div>
<map name="aclassStepperDriver_a4a66821f431c4db6d4f030c6b7003bd8_icgraph" id="aclassStepperDriver_a4a66821f431c4db6d4f030c6b7003bd8_icgraph">
<area shape="rect" title="Check whether the driver is busy with a position move." alt="" coords="184,31,347,56"/>
<area shape="rect" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4" title="Execute one step of the MOD1 state machine." alt="" coords="5,5,136,31"/>
<area shape="poly" title=" " alt="" coords="170,34,136,29,137,24,171,28"/>
<area shape="rect" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1" title="Execute one step of the MOD2 state machine." alt="" coords="5,55,136,80"/>
<area shape="poly" title=" " alt="" coords="171,58,137,62,136,57,170,52"/>
</map>
</div>

</div>
</div>
<a id="a388099ce07ad1e470799bab91943d2e0" name="a388099ce07ad1e470799bab91943d2e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a388099ce07ad1e470799bab91943d2e0">&#9670;&#160;</a></span>moveRelativeMm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperDriver::moveRelativeMm </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dx_mm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>v_mm_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a non-blocking relative move (mm). </p>
<p>Start a non-blocking relative move by the given distance in millimeters.</p>
<p>The target is computed as current position + dx_mm, and the driver is put into <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee">Motion::ToTarget</a> mode. Motion is realized by <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dx_mm</td><td>Relative displacement in millimeters. </td></tr>
    <tr><td class="paramname">v_mm_s</td><td>Requested speed in mm/s (magnitude is used, direction is derived from dx_mm). If non-positive, default speed is used.</td></tr>
  </table>
  </dd>
</dl>
<p>The function computes a new absolute target position as current position + dx_mm and delegates to <a class="el" href="classStepperDriver.html#a3a28a7c422746be35ae93f227169972b" title="Start a non-blocking move to an absolute position (mm).">moveToMm()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dx_mm</td><td>Relative motion in millimeters (positive or negative). </td></tr>
    <tr><td class="paramname">v_mm_s</td><td>Requested speed in mm/s (magnitude only is used). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a388099ce07ad1e470799bab91943d2e0_cgraph.png" border="0" usemap="#aclassStepperDriver_a388099ce07ad1e470799bab91943d2e0_cgraph" alt=""/></div>
<map name="aclassStepperDriver_a388099ce07ad1e470799bab91943d2e0_cgraph" id="aclassStepperDriver_a388099ce07ad1e470799bab91943d2e0_cgraph">
<area shape="rect" title="Start a non&#45;blocking relative move (mm)." alt="" coords="5,31,241,56"/>
<area shape="rect" href="classStepperDriver.html#a3a28a7c422746be35ae93f227169972b" title="Start a non&#45;blocking move to an absolute position (mm)." alt="" coords="290,5,486,31"/>
<area shape="poly" title=" " alt="" coords="241,29,276,26,277,31,242,35"/>
<area shape="rect" href="classStepperDriver.html#a4d1715971817716be1a64e8b5c6c2197" title="Get the current logical position in millimeters." alt="" coords="289,55,487,80"/>
<area shape="poly" title=" " alt="" coords="242,51,276,55,275,60,241,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a388099ce07ad1e470799bab91943d2e0_icgraph.png" border="0" usemap="#aclassStepperDriver_a388099ce07ad1e470799bab91943d2e0_icgraph" alt=""/></div>
<map name="aclassStepperDriver_a388099ce07ad1e470799bab91943d2e0_icgraph" id="aclassStepperDriver_a388099ce07ad1e470799bab91943d2e0_icgraph">
<area shape="rect" title="Start a non&#45;blocking relative move (mm)." alt="" coords="184,31,420,56"/>
<area shape="rect" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4" title="Execute one step of the MOD1 state machine." alt="" coords="5,5,136,31"/>
<area shape="poly" title=" " alt="" coords="172,32,136,28,136,22,173,26"/>
<area shape="rect" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1" title="Execute one step of the MOD2 state machine." alt="" coords="5,55,136,80"/>
<area shape="poly" title=" " alt="" coords="171,60,136,63,136,58,170,54"/>
</map>
</div>

</div>
</div>
<a id="a3a28a7c422746be35ae93f227169972b" name="a3a28a7c422746be35ae93f227169972b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a28a7c422746be35ae93f227169972b">&#9670;&#160;</a></span>moveToMm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperDriver::moveToMm </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x_mm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>v_mm_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a non-blocking move to an absolute position (mm). </p>
<p>Start a non-blocking move to an absolute position in millimeters.</p>
<p>This sets the internal target in steps and switches the motion mode to <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee">Motion::ToTarget</a>. The actual move is executed over time by <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x_mm</td><td>Absolute target position in millimeters. </td></tr>
    <tr><td class="paramname">v_mm_s</td><td>Requested speed in mm/s (magnitude is used, sign comes from the direction to the target). If non-positive, default speed is used.</td></tr>
  </table>
  </dd>
</dl>
<p>This method:</p><ul>
<li>converts the target position from mm to steps,</li>
<li>sets the direction and motion mode to <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee">Motion::ToTarget</a>,</li>
<li>clamps the requested speed to a safe maximum,</li>
<li>initializes the step timing so that stepping starts immediately.</li>
</ul>
<p>The actual stepping is performed in <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a>, which must be called periodically. The motion mode automatically returns to <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7ae599161956d626eda4cb0a5ffb85271c">Motion::Idle</a> once the target is reached.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x_mm</td><td>Target position in millimeters. </td></tr>
    <tr><td class="paramname">v_mm_s</td><td>Requested linear speed in mm/s (magnitude only is used). If non-positive, default_mm_s_ is applied. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a3a28a7c422746be35ae93f227169972b_icgraph.png" border="0" usemap="#aclassStepperDriver_a3a28a7c422746be35ae93f227169972b_icgraph" alt=""/></div>
<map name="aclassStepperDriver_a3a28a7c422746be35ae93f227169972b_icgraph" id="aclassStepperDriver_a3a28a7c422746be35ae93f227169972b_icgraph">
<area shape="rect" title="Start a non&#45;blocking move to an absolute position (mm)." alt="" coords="468,31,664,56"/>
<area shape="rect" href="classStepperDriver.html#a388099ce07ad1e470799bab91943d2e0" title="Start a non&#45;blocking relative move (mm)." alt="" coords="184,31,420,56"/>
<area shape="poly" title=" " alt="" coords="454,46,420,46,420,41,454,41"/>
<area shape="rect" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4" title="Execute one step of the MOD1 state machine." alt="" coords="5,5,136,31"/>
<area shape="poly" title=" " alt="" coords="172,32,136,28,136,22,173,26"/>
<area shape="rect" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1" title="Execute one step of the MOD2 state machine." alt="" coords="5,55,136,80"/>
<area shape="poly" title=" " alt="" coords="171,60,136,63,136,58,170,54"/>
</map>
</div>

</div>
</div>
<a id="a4d1715971817716be1a64e8b5c6c2197" name="a4d1715971817716be1a64e8b5c6c2197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1715971817716be1a64e8b5c6c2197">&#9670;&#160;</a></span>positionMm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float StepperDriver::positionMm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current logical position in millimeters. </p>
<p>The position is derived from the internal step counter using the steps-per-mm conversion factor.</p>
<dl class="section return"><dt>Returns</dt><dd>Current position in millimeters. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a4d1715971817716be1a64e8b5c6c2197_icgraph.png" border="0" usemap="#aclassStepperDriver_a4d1715971817716be1a64e8b5c6c2197_icgraph" alt=""/></div>
<map name="aclassStepperDriver_a4d1715971817716be1a64e8b5c6c2197_icgraph" id="aclassStepperDriver_a4d1715971817716be1a64e8b5c6c2197_icgraph">
<area shape="rect" title="Get the current logical position in millimeters." alt="" coords="468,85,665,110"/>
<area shape="rect" href="classStepperDriver.html#a388099ce07ad1e470799bab91943d2e0" title="Start a non&#45;blocking relative move (mm)." alt="" coords="184,34,420,59"/>
<area shape="poly" title=" " alt="" coords="486,85,369,62,370,57,487,80"/>
<area shape="rect" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4" title="Execute one step of the MOD1 state machine." alt="" coords="5,10,136,35"/>
<area shape="poly" title=" " alt="" coords="535,79,483,49,452,34,419,24,345,12,269,8,197,10,137,16,136,11,197,5,269,3,345,6,421,19,453,29,485,44,538,75"/>
<area shape="rect" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1" title="Execute one step of the MOD2 state machine." alt="" coords="5,59,136,85"/>
<area shape="poly" title=" " alt="" coords="454,94,136,78,136,73,454,89"/>
<area shape="rect" href="classHomeMode.html#a6f709c817816acbc6a1e2e8f2cba30c1" title="Execute one non&#45;blocking step of the HOME mode state machine." alt="" coords="235,135,369,161"/>
<area shape="poly" title=" " alt="" coords="487,115,369,138,368,133,486,110"/>
<area shape="rect" href="classJogMode.html#ad4fa13b121783048cd1b04cf8bef04de" title="Execute one step of JOG behavior." alt="" coords="245,185,359,210"/>
<area shape="poly" title=" " alt="" coords="535,120,483,149,421,176,360,192,359,187,419,171,480,144,532,115"/>
<area shape="poly" title=" " alt="" coords="170,36,136,32,136,27,171,30"/>
<area shape="poly" title=" " alt="" coords="173,64,136,68,136,62,172,58"/>
</map>
</div>

</div>
</div>
<a id="a3e0de882544ae00db697731210f161c8" name="a3e0de882544ae00db697731210f161c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e0de882544ae00db697731210f161c8">&#9670;&#160;</a></span>setPositionMm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StepperDriver::setPositionMm </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pos_mm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the logical position in millimeters. </p>
<p>This does not move the motor; it only updates the internal step counter corresponding to the given position. Useful after homing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos_mm</td><td>New position in millimeters to assign to the current state. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a3e0de882544ae00db697731210f161c8_icgraph.png" border="0" usemap="#aclassStepperDriver_a3e0de882544ae00db697731210f161c8_icgraph" alt=""/></div>
<map name="aclassStepperDriver_a3e0de882544ae00db697731210f161c8_icgraph" id="aclassStepperDriver_a3e0de882544ae00db697731210f161c8_icgraph">
<area shape="rect" title="Set the logical position in millimeters." alt="" coords="187,5,404,31"/>
<area shape="rect" href="classHomeMode.html#a6f709c817816acbc6a1e2e8f2cba30c1" title="Execute one non&#45;blocking step of the HOME mode state machine." alt="" coords="5,5,139,31"/>
<area shape="poly" title=" " alt="" coords="173,21,139,21,139,15,173,15"/>
</map>
</div>

</div>
</div>
<a id="a8fa4f67459e8366e83a2827fc4e8cf3a" name="a8fa4f67459e8366e83a2827fc4e8cf3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa4f67459e8366e83a2827fc4e8cf3a">&#9670;&#160;</a></span>setSpeedMmPerSec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperDriver::setSpeedMmPerSec </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set continuous motion speed in mm/s. </p>
<p>This configures a velocity-controlled motion mode:</p><ul>
<li>v &gt; 0: move in the positive direction,</li>
<li>v &lt; 0: move in the negative direction,</li>
<li>v = 0: stop and switch to idle.</li>
</ul>
<p>The magnitude is internally limited to a safe maximum. The actual motion is realized in the non-blocking <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a> method which must be called repeatedly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>Desired linear speed in mm/s (signed).</td></tr>
  </table>
  </dd>
</dl>
<p>This method configures a velocity-based motion mode:</p><ul>
<li>The magnitude is limited to ±2 * default_mm_s_.</li>
<li>A non-zero speed switches the motion mode to <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7a88156d46910a2d733443c339a9231d12">Motion::Velocity</a>.</li>
<li>A zero speed switches the motion mode to <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7ae599161956d626eda4cb0a5ffb85271c">Motion::Idle</a>.</li>
<li>If direction changes, the DIR pin is updated accordingly.</li>
<li>When starting from idle, the internal step timer is reset so that stepping can begin immediately on the next <a class="el" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non-blocking step scheduling; call frequently from loop().">update()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>Desired linear speed in mm/s (positive/negative for direction). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_a8fa4f67459e8366e83a2827fc4e8cf3a_icgraph.png" border="0" usemap="#aclassStepperDriver_a8fa4f67459e8366e83a2827fc4e8cf3a_icgraph" alt=""/></div>
<map name="aclassStepperDriver_a8fa4f67459e8366e83a2827fc4e8cf3a_icgraph" id="aclassStepperDriver_a8fa4f67459e8366e83a2827fc4e8cf3a_icgraph">
<area shape="rect" title="Set continuous motion speed in mm/s." alt="" coords="195,221,400,261"/>
<area shape="rect" href="classHomeMode.html#ab15a4de72b54a3a96bf7691259f14e00" title="Initialize the HOME mode." alt="" coords="5,5,147,31"/>
<area shape="poly" title=" " alt="" coords="278,210,256,172,226,128,188,83,145,44,125,33,127,28,148,40,192,79,230,124,260,169,282,207"/>
<area shape="rect" href="classMod1Mode.html#aca5d7fc6351f06fb181fa358024138a8" title="Initialize MOD1 mode." alt="" coords="7,55,145,80"/>
<area shape="poly" title=" " alt="" coords="270,212,217,152,182,121,145,94,123,83,125,78,148,89,186,117,221,148,274,208"/>
<area shape="rect" href="classMod2Mode.html#a0fb9e060e1716ae9c15d25667c09c1e5" title="Initialize MOD2 mode." alt="" coords="7,104,145,129"/>
<area shape="poly" title=" " alt="" coords="258,214,206,178,145,143,119,132,121,127,148,138,209,174,261,210"/>
<area shape="rect" href="classMod1Mode.html#a8afb69c5a4ddc402cc7b8c7b9337087b" title="Cleanup performed when leaving MOD1 mode." alt="" coords="13,153,139,179"/>
<area shape="poly" title=" " alt="" coords="224,219,114,181,116,176,226,214"/>
<area shape="rect" href="classMod2Mode.html#a0fa0d62e0279bc87e128dddf7508da57" title="Cleanup performed when leaving MOD2 mode." alt="" coords="13,203,139,228"/>
<area shape="poly" title=" " alt="" coords="180,230,139,225,140,220,181,225"/>
<area shape="rect" href="classJogMode.html#a8135de6dbc1dae711b68bd53d5efb34c" title="Cleanup performed when leaving JogMode." alt="" coords="21,252,131,277"/>
<area shape="poly" title=" " alt="" coords="181,256,132,261,131,256,180,251"/>
<area shape="rect" href="classHomeMode.html#a6f709c817816acbc6a1e2e8f2cba30c1" title="Execute one non&#45;blocking step of the HOME mode state machine." alt="" coords="9,301,143,327"/>
<area shape="poly" title=" " alt="" coords="224,268,117,304,115,299,222,263"/>
<area shape="rect" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4" title="Execute one step of the MOD1 state machine." alt="" coords="11,351,141,376"/>
<area shape="poly" title=" " alt="" coords="260,271,208,306,148,340,118,353,116,348,145,336,205,302,257,267"/>
<area shape="rect" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1" title="Execute one step of the MOD2 state machine." alt="" coords="11,400,141,425"/>
<area shape="poly" title=" " alt="" coords="274,273,220,332,185,362,148,390,122,402,120,398,145,385,182,358,216,328,270,269"/>
<area shape="rect" href="classJogMode.html#ad4fa13b121783048cd1b04cf8bef04de" title="Execute one step of JOG behavior." alt="" coords="19,449,133,475"/>
<area shape="poly" title=" " alt="" coords="281,275,259,312,229,356,191,400,148,439,125,452,122,447,145,434,188,397,224,353,255,309,277,272"/>
</map>
</div>

</div>
</div>
<a id="acb72803a8fdbf2bd2e645b36a3d0306c" name="acb72803a8fdbf2bd2e645b36a3d0306c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb72803a8fdbf2bd2e645b36a3d0306c">&#9670;&#160;</a></span>stepOnce_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StepperDriver::stepOnce_ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emit a single step pulse and update the internal position counter. </p>
<p>Generate a single STEP pulse and update the internal position counter.</p>
<p>Generates a short pulse on the STEP pin and increments or decrements pos_steps_ based on the current direction flag.</p>
<p>Produces a short pulse on the STEP pin and increments or decrements the position in steps depending on the current direction flag. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_acb72803a8fdbf2bd2e645b36a3d0306c_icgraph.png" border="0" usemap="#aclassStepperDriver_acb72803a8fdbf2bd2e645b36a3d0306c_icgraph" alt=""/></div>
<map name="aclassStepperDriver_acb72803a8fdbf2bd2e645b36a3d0306c_icgraph" id="aclassStepperDriver_acb72803a8fdbf2bd2e645b36a3d0306c_icgraph">
<area shape="rect" title="Emit a single step pulse and update the internal position counter." alt="" coords="400,80,588,105"/>
<area shape="rect" href="classStepperDriver.html#ac202361e6f613a083200d36f664d64e7" title="Non&#45;blocking step scheduling; call frequently from loop()." alt="" coords="187,80,352,105"/>
<area shape="poly" title=" " alt="" coords="386,95,352,95,352,90,386,90"/>
<area shape="rect" href="classHomeMode.html#a6f709c817816acbc6a1e2e8f2cba30c1" title="Execute one non&#45;blocking step of the HOME mode state machine." alt="" coords="5,5,139,31"/>
<area shape="poly" title=" " alt="" coords="223,77,138,44,107,33,109,28,140,40,224,72"/>
<area shape="rect" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4" title="Execute one step of the MOD1 state machine." alt="" coords="7,55,137,80"/>
<area shape="poly" title=" " alt="" coords="173,83,138,78,138,73,173,78"/>
<area shape="rect" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1" title="Execute one step of the MOD2 state machine." alt="" coords="7,104,137,129"/>
<area shape="poly" title=" " alt="" coords="173,107,138,111,138,106,173,102"/>
<area shape="rect" href="classJogMode.html#ad4fa13b121783048cd1b04cf8bef04de" title="Execute one step of JOG behavior." alt="" coords="15,153,129,179"/>
<area shape="poly" title=" " alt="" coords="222,113,108,156,107,151,220,108"/>
</map>
</div>

</div>
</div>
<a id="a684df3fe1abfd0b9c94c06edd50ab60e" name="a684df3fe1abfd0b9c94c06edd50ab60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684df3fe1abfd0b9c94c06edd50ab60e">&#9670;&#160;</a></span>stepsPerMm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float StepperDriver::stepsPerMm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the internal conversion factor from millimeters to steps. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of steps per millimeter. </dd></dl>

</div>
</div>
<a id="ac202361e6f613a083200d36f664d64e7" name="ac202361e6f613a083200d36f664d64e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac202361e6f613a083200d36f664d64e7">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperDriver::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Non-blocking step scheduling; call frequently from loop(). </p>
<p>Periodic update function that advances the motor motion.</p>
<p>This function:</p><ul>
<li>computes the step period from the current speed,</li>
<li>checks whether the next step is due based on micros(),</li>
<li>emits one STEP pulse when needed,</li>
<li>automatically stops a move in <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee">Motion::ToTarget</a> mode when the target position is reached.</li>
</ul>
<p>If no motion is active, it returns quickly.</p>
<p>This method must be called frequently (e.g. from loop()) to:</p><ul>
<li>compute the required step period from the current speed,</li>
<li>check if it is time to produce the next STEP pulse,</li>
<li>perform a single step if due,</li>
<li>stop the motor when a <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7af614477ec2afe0bcb59b439bef2021ee">Motion::ToTarget</a> move reaches the target.</li>
</ul>
<p>Behavior:</p><ul>
<li>If the driver is idle (no motion and zero speed), tNextStep_ is simply updated with the current time and the function returns.</li>
<li>If the speed is too low (&lt; 1 step/s), no steps are produced.</li>
<li>Stepping is driven by a simple time comparison against tNextStep_ using micros(), taking overflow into account via signed subtraction. </li>
</ul>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_ac202361e6f613a083200d36f664d64e7_cgraph.png" border="0" usemap="#aclassStepperDriver_ac202361e6f613a083200d36f664d64e7_cgraph" alt=""/></div>
<map name="aclassStepperDriver_ac202361e6f613a083200d36f664d64e7_cgraph" id="aclassStepperDriver_ac202361e6f613a083200d36f664d64e7_cgraph">
<area shape="rect" title="Non&#45;blocking step scheduling; call frequently from loop()." alt="" coords="5,5,171,31"/>
<area shape="rect" href="classStepperDriver.html#acb72803a8fdbf2bd2e645b36a3d0306c" title="Emit a single step pulse and update the internal position counter." alt="" coords="219,5,407,31"/>
<area shape="poly" title=" " alt="" coords="171,15,205,15,205,21,171,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperDriver_ac202361e6f613a083200d36f664d64e7_icgraph.png" border="0" usemap="#aclassStepperDriver_ac202361e6f613a083200d36f664d64e7_icgraph" alt=""/></div>
<map name="aclassStepperDriver_ac202361e6f613a083200d36f664d64e7_icgraph" id="aclassStepperDriver_ac202361e6f613a083200d36f664d64e7_icgraph">
<area shape="rect" title="Non&#45;blocking step scheduling; call frequently from loop()." alt="" coords="187,80,352,105"/>
<area shape="rect" href="classHomeMode.html#a6f709c817816acbc6a1e2e8f2cba30c1" title="Execute one non&#45;blocking step of the HOME mode state machine." alt="" coords="5,5,139,31"/>
<area shape="poly" title=" " alt="" coords="223,77,138,44,107,33,109,28,140,40,224,72"/>
<area shape="rect" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4" title="Execute one step of the MOD1 state machine." alt="" coords="7,55,137,80"/>
<area shape="poly" title=" " alt="" coords="173,83,138,78,138,73,173,78"/>
<area shape="rect" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1" title="Execute one step of the MOD2 state machine." alt="" coords="7,104,137,129"/>
<area shape="poly" title=" " alt="" coords="173,107,138,111,138,106,173,102"/>
<area shape="rect" href="classJogMode.html#ad4fa13b121783048cd1b04cf8bef04de" title="Execute one step of JOG behavior." alt="" coords="15,153,129,179"/>
<area shape="poly" title=" " alt="" coords="222,113,108,156,107,151,220,108"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3beeac05fe7b539e13b19aaa8bf921ab" name="a3beeac05fe7b539e13b19aaa8bf921ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3beeac05fe7b539e13b19aaa8bf921ab">&#9670;&#160;</a></span>default_mm_s_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float StepperDriver::default_mm_s_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a815337d2a4cccbc176779b168ae96f8e" name="a815337d2a4cccbc176779b168ae96f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a815337d2a4cccbc176779b168ae96f8e">&#9670;&#160;</a></span>dir_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StepperDriver::dir_ = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Direction flag: true = positive (DIR=HIGH). </p>

</div>
</div>
<a id="a30490800cd0c2b3ebfd7f50550fae622" name="a30490800cd0c2b3ebfd7f50550fae622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30490800cd0c2b3ebfd7f50550fae622">&#9670;&#160;</a></span>motion_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7">Motion</a> StepperDriver::motion_ = <a class="el" href="classStepperDriver.html#a73f31a24104215a8d9991208c15d17c7ae599161956d626eda4cb0a5ffb85271c">Motion::Idle</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current motion mode. </p>

</div>
</div>
<a id="a2e918f1caba8a113e5eea5408f6eefd1" name="a2e918f1caba8a113e5eea5408f6eefd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e918f1caba8a113e5eea5408f6eefd1">&#9670;&#160;</a></span>pDIR_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t StepperDriver::pDIR_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac446b04b084fa02e6e3acb72c9bb3e87" name="ac446b04b084fa02e6e3acb72c9bb3e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac446b04b084fa02e6e3acb72c9bb3e87">&#9670;&#160;</a></span>pEN_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t StepperDriver::pEN_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab056dc3943b19eb5786b265899519d75" name="ab056dc3943b19eb5786b265899519d75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab056dc3943b19eb5786b265899519d75">&#9670;&#160;</a></span>pos_steps_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile long StepperDriver::pos_steps_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Software position counter in steps. </p>

</div>
</div>
<a id="aaae4b3e978400dc77b6055403e54f0e4" name="aaae4b3e978400dc77b6055403e54f0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae4b3e978400dc77b6055403e54f0e4">&#9670;&#160;</a></span>pSTEP_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t StepperDriver::pSTEP_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8235855882fd0d2da39dc560d19dcd89" name="a8235855882fd0d2da39dc560d19dcd89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8235855882fd0d2da39dc560d19dcd89">&#9670;&#160;</a></span>speed_mm_s_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float StepperDriver::speed_mm_s_ = 0.0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current target speed in mm/s (signed). </p>

</div>
</div>
<a id="a1ad3a4064eefd8f60b77a5f0ecd30005" name="a1ad3a4064eefd8f60b77a5f0ecd30005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad3a4064eefd8f60b77a5f0ecd30005">&#9670;&#160;</a></span>stepsPerMm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float StepperDriver::stepsPerMm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abaaefee65b66fd14e7f5acd8ea8f0c5e" name="abaaefee65b66fd14e7f5acd8ea8f0c5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaaefee65b66fd14e7f5acd8ea8f0c5e">&#9670;&#160;</a></span>target_steps_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long StepperDriver::target_steps_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Target position in steps for ToTarget mode. </p>

</div>
</div>
<a id="ab159e1daba57baba88fbac2f0a0be098" name="ab159e1daba57baba88fbac2f0a0be098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab159e1daba57baba88fbac2f0a0be098">&#9670;&#160;</a></span>tNextStep_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t StepperDriver::tNextStep_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timestamp (µs) when the next step is due. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="StepperDriver_8h_source.html">StepperDriver.h</a></li>
<li><a class="el" href="StepperDriver_8cpp.html">StepperDriver.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
