<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM Tip Etching Controller: Modes.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">STM Tip Etching Controller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Modes.h</div></div>
</div><!--header-->
<div class="contents">
<a href="Modes_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &quot;<a class="code" href="IMode_8h.html">IMode.h</a>&quot;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;<a class="code" href="Lcd1602_8h.html">Lcd1602.h</a>&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &quot;<a class="code" href="KeypadShield_8h.html">KeypadShield.h</a>&quot;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="StepperDriver_8h.html">StepperDriver.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="CurrentSensor_8h.html">CurrentSensor.h</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="MovingAverage_8h.html">MovingAverage.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno"><a class="line" href="Modes_8h.html#ab04955aa9a0cde03c3f19b89d606528b">   16</a></span><span class="keyword">using </span><a class="code hl_class" href="classMovingAverage.html">IAvg_t</a> = <a class="code hl_class" href="classMovingAverage.html">MovingAverage&lt;200, 1000&gt;</a>;</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="Modes_8h.html#adf369259dddd95255442495a6f6fa96f">   25</a></span><span class="keyword">using </span><a class="code hl_class" href="classMovingAverage.html">IAvg_s</a> = <a class="code hl_class" href="classMovingAverage.html">MovingAverage&lt;20, 1000&gt;</a>;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="keyword">extern</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="Modes_8h.html#a8f696e5294f9dcbcda721d49c303ec6a">baselineCurrent</a>;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="foldopen" id="foldopen00046" data-start="{" data-end="};">
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="classHomeMode.html">   46</a></span><span class="keyword">class </span><a class="code hl_class" href="classHomeMode.html">HomeMode</a> : <span class="keyword">public</span> <a class="code hl_struct" href="structIMode.html">IMode</a> {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00056" data-start="{" data-end="}">
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="classHomeMode.html#a826e4c67e295ed49261d8cf2c3143ebb">   56</a></span>  <a class="code hl_function" href="classHomeMode.html#a826e4c67e295ed49261d8cf2c3143ebb">HomeMode</a>(<a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; lcd, <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; stepper, uint8_t limitPin, <a class="code hl_class" href="classCurrentSensor.html">CurrentSensor</a>&amp; current)</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    : <a class="code hl_variable" href="classHomeMode.html#acf90d8a2712c94fd2affb9f5c8bb20bd">lcd_</a>(lcd), <a class="code hl_variable" href="classHomeMode.html#ad3d70076620a06a871d25733a3114e2c">stepper_</a>(stepper), <a class="code hl_variable" href="classHomeMode.html#acd48016409acafc580570814a21d6cc4">limitPin_</a>(limitPin), <a class="code hl_variable" href="classHomeMode.html#a2a6d8063894e9a909009b1a8b16a1112">current_</a>(current) {}</div>
</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="classHomeMode.html#a8d998169f0d1e30a0aebad2e7092dd1a">   64</a></span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classHomeMode.html#a8d998169f0d1e30a0aebad2e7092dd1a">name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;HOME&quot;</span>; }</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classHomeMode.html#ab15a4de72b54a3a96bf7691259f14e00">begin</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classHomeMode.html#a6f709c817816acbc6a1e2e8f2cba30c1">step</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classHomeMode.html#a1fb3362016453bd5a2e6eda2f1f2918f">end</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="classHomeMode.html#acf90d8a2712c94fd2affb9f5c8bb20bd">   96</a></span>  <a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; <a class="code hl_variable" href="classHomeMode.html#acf90d8a2712c94fd2affb9f5c8bb20bd">lcd_</a>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="classHomeMode.html#ad3d70076620a06a871d25733a3114e2c">   99</a></span>  <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; <a class="code hl_variable" href="classHomeMode.html#ad3d70076620a06a871d25733a3114e2c">stepper_</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="classHomeMode.html#acd48016409acafc580570814a21d6cc4">  102</a></span>  uint8_t <a class="code hl_variable" href="classHomeMode.html#acd48016409acafc580570814a21d6cc4">limitPin_</a>;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="classHomeMode.html#a2a6d8063894e9a909009b1a8b16a1112">  105</a></span>  <a class="code hl_class" href="classCurrentSensor.html">CurrentSensor</a>&amp; <a class="code hl_variable" href="classHomeMode.html#a2a6d8063894e9a909009b1a8b16a1112">current_</a>;  </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="classHomeMode.html#a4174c2e6871a8bd1318d489b21cc5c64">  108</a></span>  <span class="keywordtype">bool</span>  <a class="code hl_variable" href="classHomeMode.html#a4174c2e6871a8bd1318d489b21cc5c64">homed_</a>  = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="classHomeMode.html#a5836b1c55e76573ba0feec67ae95dbc2">  111</a></span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="classHomeMode.html#a5836b1c55e76573ba0feec67ae95dbc2">target_</a> = 0.0f;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno"><a class="line" href="classHomeMode.html#add37b5f07d9636bfd143990b78bf81b5">  116</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="classHomeMode.html#add37b5f07d9636bfd143990b78bf81b5">baselineMeasuring_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="classHomeMode.html#a1df98fa0931808eb882210d054b37d06">  121</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="classHomeMode.html#a1df98fa0931808eb882210d054b37d06">baselineDone_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="classHomeMode.html#a6766aeb9c224266a6f3fefcc1bf511c7">  124</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classHomeMode.html#a6766aeb9c224266a6f3fefcc1bf511c7">baselineStart_</a> = 0;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="classHomeMode.html#a0db329a40b985445c1fd218a57c57b8f">  127</a></span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="classHomeMode.html#a0db329a40b985445c1fd218a57c57b8f">baselineSum_</a> = 0.0f;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="classHomeMode.html#a0f563b00659ae4f315055ef48484f977">  130</a></span>  uint32_t <a class="code hl_variable" href="classHomeMode.html#a0f563b00659ae4f315055ef48484f977">baselineCount_</a> = 0;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>};</div>
</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="foldopen" id="foldopen00147" data-start="{" data-end="};">
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="classMod1Mode.html">  147</a></span><span class="keyword">class </span><a class="code hl_class" href="classMod1Mode.html">Mod1Mode</a> : <span class="keyword">public</span> <a class="code hl_struct" href="structIMode.html">IMode</a> {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00162" data-start="{" data-end="}">
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="classMod1Mode.html#ae61c181065b3b6f32a15c53b6eb7a890">  162</a></span>  <a class="code hl_function" href="classMod1Mode.html#ae61c181065b3b6f32a15c53b6eb7a890">Mod1Mode</a>(<a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; lcd, <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; stepper, uint8_t relayPin1, uint8_t relayPin2, <a class="code hl_class" href="classCurrentSensor.html">CurrentSensor</a>&amp; current, <span class="keywordtype">float</span> currentThreshold, <span class="keywordtype">float</span> etchingThreshold, <a class="code hl_class" href="classMovingAverage.html">IAvg_t</a>&amp; Iavg, <a class="code hl_class" href="classMovingAverage.html">IAvg_s</a>&amp; IavgS)</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  : <a class="code hl_variable" href="classMod1Mode.html#a1a1e430f8f6a32af3671a18af213ccf2">lcd_</a>(lcd), <a class="code hl_variable" href="classMod1Mode.html#aa884f035b65ce51ffabaae4272c821ad">stepper_</a>(stepper), <a class="code hl_variable" href="classMod1Mode.html#a8d665cf0bd3c0ec8b018eda0311891ab">relayPin1_</a>(relayPin1), <a class="code hl_variable" href="classMod1Mode.html#a1c9db06f96af3472ee0338a922bd02ee">relayPin2_</a>(relayPin2), <a class="code hl_variable" href="classMod1Mode.html#a7b4f2b9ca4175c56ecfea947fe1c249a">current_</a>(current), <a class="code hl_variable" href="classMod1Mode.html#a18e065e99d9d6ca66ac58dae44f10e69">threshold_</a>(currentThreshold), <a class="code hl_variable" href="classMod1Mode.html#a49d547c97ee1d6c8bfb21a695de56ac4">etchingThreshold_</a>(etchingThreshold), <a class="code hl_variable" href="classMod1Mode.html#a3673a808117ccd9fbda4610bcea3db2c">Iavg_</a>(Iavg), <a class="code hl_variable" href="classMod1Mode.html#a8b6ee9353fc4804fa165924396446da3">IavgS_</a>(IavgS){}</div>
</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="classMod1Mode.html#ab6905c6a718c0e904fca48fb9bdeb9a9">  170</a></span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classMod1Mode.html#ab6905c6a718c0e904fca48fb9bdeb9a9">name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;MOD1&quot;</span>; }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classMod1Mode.html#aca5d7fc6351f06fb181fa358024138a8">begin</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4">step</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classMod1Mode.html#a8afb69c5a4ddc402cc7b8c7b9337087b">end</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="keyword">private</span>:</div>
<div class="foldopen" id="foldopen00216" data-start="{" data-end="};">
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbf">  216</a></span>  <span class="keyword">enum class</span> <a class="code hl_enumeration" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbf">State</a> : uint8_t {</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfafa585d32a02170e5d4aada3bd490a1b3">MovingDownDetect</a>,</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa0aea9cb3445215834a9c673e8a87afb0">Wait1</a>,</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfae5d725300be2a3224f5ef30d542cc8a1">MoveDown1</a>,</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa0e8f4b6b678f165db16f833d2fa58224">Wait2</a>,</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa94d75119d47b1832d9f82c203d4ec3cc">Validate30V</a>,</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfaee175b2d6ca4f79e6620824b6218a105">RelayHold</a>,</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa8aea1adee73ee3db9d7af9ac624bdeac">Etching</a>,</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfadac93ad190ed07fce4282d1ca15e7107">MoveUpBump</a>,</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa4f43702c684b13d2eb3c97f642cb4c62">FinalLift</a>,</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfaf92965e2c8a7afb3c1b9a5c09a263636">Done</a></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  };</div>
</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a1a1e430f8f6a32af3671a18af213ccf2">  230</a></span>  <a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; <a class="code hl_variable" href="classMod1Mode.html#a1a1e430f8f6a32af3671a18af213ccf2">lcd_</a>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="classMod1Mode.html#aa884f035b65ce51ffabaae4272c821ad">  233</a></span>  <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; <a class="code hl_variable" href="classMod1Mode.html#aa884f035b65ce51ffabaae4272c821ad">stepper_</a>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a8d665cf0bd3c0ec8b018eda0311891ab">  236</a></span>  uint8_t <a class="code hl_variable" href="classMod1Mode.html#a8d665cf0bd3c0ec8b018eda0311891ab">relayPin1_</a>;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a1c9db06f96af3472ee0338a922bd02ee">  239</a></span>  uint8_t <a class="code hl_variable" href="classMod1Mode.html#a1c9db06f96af3472ee0338a922bd02ee">relayPin2_</a>;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a7b4f2b9ca4175c56ecfea947fe1c249a">  242</a></span>  <a class="code hl_class" href="classCurrentSensor.html">CurrentSensor</a>&amp; <a class="code hl_variable" href="classMod1Mode.html#a7b4f2b9ca4175c56ecfea947fe1c249a">current_</a>;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a18e065e99d9d6ca66ac58dae44f10e69">  245</a></span>  <span class="keywordtype">float</span>         <a class="code hl_variable" href="classMod1Mode.html#a18e065e99d9d6ca66ac58dae44f10e69">threshold_</a>;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a49d547c97ee1d6c8bfb21a695de56ac4">  248</a></span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="classMod1Mode.html#a49d547c97ee1d6c8bfb21a695de56ac4">etchingThreshold_</a>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="classMod1Mode.html#aadad9fda5d6a8d6cea341a1ee0fdb460">  251</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod1Mode.html#aadad9fda5d6a8d6cea341a1ee0fdb460">etchStart_</a> = 0;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a3673a808117ccd9fbda4610bcea3db2c">  254</a></span>  <a class="code hl_class" href="classMovingAverage.html">IAvg_t</a>&amp; <a class="code hl_variable" href="classMod1Mode.html#a3673a808117ccd9fbda4610bcea3db2c">Iavg_</a>;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a8b6ee9353fc4804fa165924396446da3">  257</a></span>  <a class="code hl_class" href="classMovingAverage.html">IAvg_s</a>&amp; <a class="code hl_variable" href="classMod1Mode.html#a8b6ee9353fc4804fa165924396446da3">IavgS_</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a230117739fe117efd3e5c41ec4594c67">  260</a></span>  <a class="code hl_enumeration" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbf">State</a> <a class="code hl_variable" href="classMod1Mode.html#a230117739fe117efd3e5c41ec4594c67">st_</a> = <a class="code hl_enumvalue" href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfafa585d32a02170e5d4aada3bd490a1b3">State::MovingDownDetect</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a008ea5a4d081ba35eab5e05a17ce1f1b">  263</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod1Mode.html#a008ea5a4d081ba35eab5e05a17ce1f1b">waitStart_</a> = 0;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="classMod1Mode.html#aad1c94ccf5c22ed744983fff2414d944">  266</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod1Mode.html#aad1c94ccf5c22ed744983fff2414d944">validateStart_</a> = 0;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="classMod1Mode.html#afa25559d8259a3e4dfd9bf13a9cbc76e">  269</a></span>  uint8_t       <a class="code hl_variable" href="classMod1Mode.html#afa25559d8259a3e4dfd9bf13a9cbc76e">pulseCount_</a>  = 0;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="classMod1Mode.html#ae95d497781fa1671867103238c908294">  272</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod1Mode.html#ae95d497781fa1671867103238c908294">pulseStart_</a>  = 0;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="classMod1Mode.html#abec39d535bc6521f3f5d9726cf0ade0a">  275</a></span>  <span class="keywordtype">bool</span>          <a class="code hl_variable" href="classMod1Mode.html#abec39d535bc6521f3f5d9726cf0ade0a">relayOn_</a>     = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a8c102d799b69344a8abcbd5741940b2b">  278</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod1Mode.html#a8c102d799b69344a8abcbd5741940b2b">stopTime_</a>   = 0;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="classMod1Mode.html#a5f4ac36be6423206177fa2c20fa48e74">  286</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="classMod1Mode.html#a5f4ac36be6423206177fa2c20fa48e74">bumpedUp1mm_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>};</div>
</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="foldopen" id="foldopen00301" data-start="{" data-end="};">
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="classMod2Mode.html">  301</a></span><span class="keyword">class </span><a class="code hl_class" href="classMod2Mode.html">Mod2Mode</a> : <span class="keyword">public</span> <a class="code hl_struct" href="structIMode.html">IMode</a> {</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00316" data-start="{" data-end="}">
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="classMod2Mode.html#adbe17078a45c1b52f8a519255363c0aa">  316</a></span>  <a class="code hl_function" href="classMod2Mode.html#adbe17078a45c1b52f8a519255363c0aa">Mod2Mode</a>(<a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; lcd,</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>           <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; stepper,</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>           uint8_t relayPin1,</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>           uint8_t relayPin2,</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>           <a class="code hl_class" href="classCurrentSensor.html">CurrentSensor</a>&amp; current,</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>           <span class="keywordtype">float</span> surfaceThreshold,</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>           <span class="keywordtype">float</span> etchingThreshold,</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>           <a class="code hl_class" href="classMovingAverage.html">IAvg_t</a>&amp; Iavg,</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>           <a class="code hl_class" href="classMovingAverage.html">IAvg_s</a>&amp; IavgS)</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    : <a class="code hl_variable" href="classMod2Mode.html#aa5d6e58dfe54cf2be8133cddb041c577">lcd_</a>(lcd),</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>      <a class="code hl_variable" href="classMod2Mode.html#a0187d4704a760def10d52f653c50159b">stepper_</a>(stepper),</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>      <a class="code hl_variable" href="classMod2Mode.html#adee39dcd26380c3e6a8ed61ae3c911c5">relayPin1_</a>(relayPin1),</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>      <a class="code hl_variable" href="classMod2Mode.html#a731cd289d53899ef9aa66486de9a6468">relayPin2_</a>(relayPin2),</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>      <a class="code hl_variable" href="classMod2Mode.html#ab81cd1d51870e3b5060a80c179e37f1c">current_</a>(current),</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>      <a class="code hl_variable" href="classMod2Mode.html#a439e7f505f8461afc46673f93a8ada0b">threshold_</a>(surfaceThreshold),</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>      <a class="code hl_variable" href="classMod2Mode.html#aa8ec23fa8b6bcd91d8916f7ced25762d">etchingThreshold_</a>(etchingThreshold),</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>      <a class="code hl_variable" href="classMod2Mode.html#ac49ade6646e730321903056827031d78">Iavg_</a>(Iavg),</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>      <a class="code hl_variable" href="classMod2Mode.html#afdd9b4d7e00c12dabb6b85fbf7f5a0c2">IavgS_</a>(IavgS) {}</div>
</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a9bf1cab467b095d0ae9b17fcfa6451a7">  340</a></span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classMod2Mode.html#a9bf1cab467b095d0ae9b17fcfa6451a7">name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;MOD2&quot;</span>; }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classMod2Mode.html#a0fb9e060e1716ae9c15d25667c09c1e5">begin</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1">step</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classMod2Mode.html#a0fa0d62e0279bc87e128dddf7508da57">end</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="keyword">private</span>:</div>
<div class="foldopen" id="foldopen00388" data-start="{" data-end="};">
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97">  388</a></span>  <span class="keyword">enum class</span> <a class="code hl_enumeration" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97">State</a> : uint8_t {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97afa585d32a02170e5d4aada3bd490a1b3">MovingDownDetect</a>,</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a0aea9cb3445215834a9c673e8a87afb0">Wait1</a>,</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97ae5d725300be2a3224f5ef30d542cc8a1">MoveDown1</a>,</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a0e8f4b6b678f165db16f833d2fa58224">Wait2</a>,</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a94d75119d47b1832d9f82c203d4ec3cc">Validate30V</a>,</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97aee175b2d6ca4f79e6620824b6218a105">RelayHold</a>,</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a22c82b647ac61b701febb720888a8fbb">Wait3</a>,</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a13b54a41a2963717ba261533d6679ec0">MoveDown2</a>,</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97ac93375fedfa466e246febcd4d7be738b">Wait4</a>,</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a80cc480f21ef8694cbd0a3820a07996a">RelayPulse</a>,</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a4f43702c684b13d2eb3c97f642cb4c62">FinalLift</a>,</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97af92965e2c8a7afb3c1b9a5c09a263636">Done</a></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>  };</div>
</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno"><a class="line" href="classMod2Mode.html#aa5d6e58dfe54cf2be8133cddb041c577">  404</a></span>  <a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; <a class="code hl_variable" href="classMod2Mode.html#aa5d6e58dfe54cf2be8133cddb041c577">lcd_</a>;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a0187d4704a760def10d52f653c50159b">  407</a></span>  <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; <a class="code hl_variable" href="classMod2Mode.html#a0187d4704a760def10d52f653c50159b">stepper_</a>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="classMod2Mode.html#adee39dcd26380c3e6a8ed61ae3c911c5">  410</a></span>  uint8_t <a class="code hl_variable" href="classMod2Mode.html#adee39dcd26380c3e6a8ed61ae3c911c5">relayPin1_</a>;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a731cd289d53899ef9aa66486de9a6468">  413</a></span>  uint8_t <a class="code hl_variable" href="classMod2Mode.html#a731cd289d53899ef9aa66486de9a6468">relayPin2_</a>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno"><a class="line" href="classMod2Mode.html#ab81cd1d51870e3b5060a80c179e37f1c">  416</a></span>  <a class="code hl_class" href="classCurrentSensor.html">CurrentSensor</a>&amp; <a class="code hl_variable" href="classMod2Mode.html#ab81cd1d51870e3b5060a80c179e37f1c">current_</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a439e7f505f8461afc46673f93a8ada0b">  419</a></span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="classMod2Mode.html#a439e7f505f8461afc46673f93a8ada0b">threshold_</a>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno"><a class="line" href="classMod2Mode.html#aa8ec23fa8b6bcd91d8916f7ced25762d">  422</a></span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="classMod2Mode.html#aa8ec23fa8b6bcd91d8916f7ced25762d">etchingThreshold_</a>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="classMod2Mode.html#ac49ade6646e730321903056827031d78">  425</a></span>  <a class="code hl_class" href="classMovingAverage.html">IAvg_t</a>&amp; <a class="code hl_variable" href="classMod2Mode.html#ac49ade6646e730321903056827031d78">Iavg_</a>;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno"><a class="line" href="classMod2Mode.html#afdd9b4d7e00c12dabb6b85fbf7f5a0c2">  428</a></span>  <a class="code hl_class" href="classMovingAverage.html">IAvg_s</a>&amp; <a class="code hl_variable" href="classMod2Mode.html#afdd9b4d7e00c12dabb6b85fbf7f5a0c2">IavgS_</a>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno"><a class="line" href="classMod2Mode.html#ad948f1dc269eccd1020ff5653dc14a47">  431</a></span>  <a class="code hl_enumeration" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97">State</a> <a class="code hl_variable" href="classMod2Mode.html#ad948f1dc269eccd1020ff5653dc14a47">st_</a> = <a class="code hl_enumvalue" href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97afa585d32a02170e5d4aada3bd490a1b3">State::MovingDownDetect</a>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno"><a class="line" href="classMod2Mode.html#aebb173f31d1b76d8d8d3852fbd9582bd">  434</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod2Mode.html#aebb173f31d1b76d8d8d3852fbd9582bd">waitStart_</a>     = 0;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a9198f93d5b2e1e6f9cf4577918d3180f">  437</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod2Mode.html#a9198f93d5b2e1e6f9cf4577918d3180f">validateStart_</a> = 0;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a699e628dfc0d4bc44e1c75526b47c77d">  440</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod2Mode.html#a699e628dfc0d4bc44e1c75526b47c77d">pulseStart_</a>    = 0;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno"><a class="line" href="classMod2Mode.html#ad914a80d319035fb63ff732c83ba21fa">  443</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="classMod2Mode.html#ad914a80d319035fb63ff732c83ba21fa">etchStart_</a>     = 0;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a673450877df759da1ef7dac79bcdf163">  446</a></span>  <span class="keywordtype">bool</span>    <a class="code hl_variable" href="classMod2Mode.html#a673450877df759da1ef7dac79bcdf163">relayOn_</a>    = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno"><a class="line" href="classMod2Mode.html#a1f5a4f421c8a4dc8a2ace8744d1aed20">  449</a></span>  uint8_t <a class="code hl_variable" href="classMod2Mode.html#a1f5a4f421c8a4dc8a2ace8744d1aed20">pulseCount_</a> = 0;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>};</div>
</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="foldopen" id="foldopen00461" data-start="{" data-end="};">
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno"><a class="line" href="classJogMode.html">  461</a></span><span class="keyword">class </span><a class="code hl_class" href="classJogMode.html">JogMode</a> : <span class="keyword">public</span> <a class="code hl_struct" href="structIMode.html">IMode</a> {</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00470" data-start="{" data-end="}">
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno"><a class="line" href="classJogMode.html#ac9198309ab3ce358c5af269c773ce04f">  470</a></span>  <a class="code hl_function" href="classJogMode.html#ac9198309ab3ce358c5af269c773ce04f">JogMode</a>(<a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; lcd, <a class="code hl_class" href="classKeypadShield.html">KeypadShield</a>&amp; keys, <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; stepper)</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    : <a class="code hl_variable" href="classJogMode.html#a3d50abefbab677778b6b41cd03e9af3a">lcd_</a>(lcd), <a class="code hl_variable" href="classJogMode.html#a566e4e2cc6fc01f80d2c2934fc2e0505">keys_</a>(keys), <a class="code hl_variable" href="classJogMode.html#a9cc6173a8d2e0efc25a28a224fb4f369">stepper_</a>(stepper) {}</div>
</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno"><a class="line" href="classJogMode.html#aab8d9c9be8b5ad81f5cb6fb41b8da252">  478</a></span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classJogMode.html#aab8d9c9be8b5ad81f5cb6fb41b8da252">name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;JOG&quot;</span>; }</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classJogMode.html#ac9851d5ae59f910d10f416806a3c33a1">begin</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classJogMode.html#ad4fa13b121783048cd1b04cf8bef04de">step</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classJogMode.html#a8135de6dbc1dae711b68bd53d5efb34c">end</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span> </div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno"><a class="line" href="classJogMode.html#a3d50abefbab677778b6b41cd03e9af3a">  509</a></span>  <a class="code hl_class" href="classLcd1602.html">Lcd1602</a>&amp; <a class="code hl_variable" href="classJogMode.html#a3d50abefbab677778b6b41cd03e9af3a">lcd_</a>;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno"><a class="line" href="classJogMode.html#a566e4e2cc6fc01f80d2c2934fc2e0505">  512</a></span>  <a class="code hl_class" href="classKeypadShield.html">KeypadShield</a>&amp; <a class="code hl_variable" href="classJogMode.html#a566e4e2cc6fc01f80d2c2934fc2e0505">keys_</a>;</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno"><a class="line" href="classJogMode.html#a9cc6173a8d2e0efc25a28a224fb4f369">  515</a></span>  <a class="code hl_class" href="classStepperDriver.html">StepperDriver</a>&amp; <a class="code hl_variable" href="classJogMode.html#a9cc6173a8d2e0efc25a28a224fb4f369">stepper_</a>;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno"><a class="line" href="classJogMode.html#af745c7359e7f825d052001113caf263e">  523</a></span>  uint32_t <a class="code hl_variable" href="classJogMode.html#af745c7359e7f825d052001113caf263e">uiTick_</a> = 0;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno"><a class="line" href="classJogMode.html#ab50e857beea45cd3567291829691029a">  531</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="classJogMode.html#ab50e857beea45cd3567291829691029a">firstStep_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>};</div>
</div>
<div class="ttc" id="aCurrentSensor_8h_html"><div class="ttname"><a href="CurrentSensor_8h.html">CurrentSensor.h</a></div></div>
<div class="ttc" id="aIMode_8h_html"><div class="ttname"><a href="IMode_8h.html">IMode.h</a></div></div>
<div class="ttc" id="aKeypadShield_8h_html"><div class="ttname"><a href="KeypadShield_8h.html">KeypadShield.h</a></div></div>
<div class="ttc" id="aLcd1602_8h_html"><div class="ttname"><a href="Lcd1602_8h.html">Lcd1602.h</a></div></div>
<div class="ttc" id="aModes_8h_html_a8f696e5294f9dcbcda721d49c303ec6a"><div class="ttname"><a href="Modes_8h.html#a8f696e5294f9dcbcda721d49c303ec6a">baselineCurrent</a></div><div class="ttdeci">float baselineCurrent</div><div class="ttdoc">Global baseline RMS current determined during HOME mode.</div></div>
<div class="ttc" id="aMovingAverage_8h_html"><div class="ttname"><a href="MovingAverage_8h.html">MovingAverage.h</a></div></div>
<div class="ttc" id="aStepperDriver_8h_html"><div class="ttname"><a href="StepperDriver_8h.html">StepperDriver.h</a></div></div>
<div class="ttc" id="aclassCurrentSensor_html"><div class="ttname"><a href="classCurrentSensor.html">CurrentSensor</a></div><div class="ttdoc">Non-blocking RMS current measurement helper class.</div><div class="ttdef"><b>Definition</b> CurrentSensor.h:29</div></div>
<div class="ttc" id="aclassHomeMode_html"><div class="ttname"><a href="classHomeMode.html">HomeMode</a></div><div class="ttdoc">Homing mode for the Z axis with baseline current measurement.</div><div class="ttdef"><b>Definition</b> Modes.h:46</div></div>
<div class="ttc" id="aclassHomeMode_html_a0db329a40b985445c1fd218a57c57b8f"><div class="ttname"><a href="classHomeMode.html#a0db329a40b985445c1fd218a57c57b8f">HomeMode::baselineSum_</a></div><div class="ttdeci">float baselineSum_</div><div class="ttdoc">Accumulated sum of RMS current samples during baseline measurement.</div><div class="ttdef"><b>Definition</b> Modes.h:127</div></div>
<div class="ttc" id="aclassHomeMode_html_a0f563b00659ae4f315055ef48484f977"><div class="ttname"><a href="classHomeMode.html#a0f563b00659ae4f315055ef48484f977">HomeMode::baselineCount_</a></div><div class="ttdeci">uint32_t baselineCount_</div><div class="ttdoc">Number of RMS samples accumulated into baselineSum_.</div><div class="ttdef"><b>Definition</b> Modes.h:130</div></div>
<div class="ttc" id="aclassHomeMode_html_a1df98fa0931808eb882210d054b37d06"><div class="ttname"><a href="classHomeMode.html#a1df98fa0931808eb882210d054b37d06">HomeMode::baselineDone_</a></div><div class="ttdeci">bool baselineDone_</div><div class="ttdoc">Flag indicating that baseline current measurement has finished.</div><div class="ttdef"><b>Definition</b> Modes.h:121</div></div>
<div class="ttc" id="aclassHomeMode_html_a1fb3362016453bd5a2e6eda2f1f2918f"><div class="ttname"><a href="classHomeMode.html#a1fb3362016453bd5a2e6eda2f1f2918f">HomeMode::end</a></div><div class="ttdeci">void end() override</div><div class="ttdoc">Cleanup performed when exiting HOME mode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:148</div></div>
<div class="ttc" id="aclassHomeMode_html_a2a6d8063894e9a909009b1a8b16a1112"><div class="ttname"><a href="classHomeMode.html#a2a6d8063894e9a909009b1a8b16a1112">HomeMode::current_</a></div><div class="ttdeci">CurrentSensor &amp; current_</div><div class="ttdoc">Reference to the current sensor for baseline measurement.</div><div class="ttdef"><b>Definition</b> Modes.h:105</div></div>
<div class="ttc" id="aclassHomeMode_html_a4174c2e6871a8bd1318d489b21cc5c64"><div class="ttname"><a href="classHomeMode.html#a4174c2e6871a8bd1318d489b21cc5c64">HomeMode::homed_</a></div><div class="ttdeci">bool homed_</div><div class="ttdoc">Flag indicating whether the homing sequence has finished.</div><div class="ttdef"><b>Definition</b> Modes.h:108</div></div>
<div class="ttc" id="aclassHomeMode_html_a5836b1c55e76573ba0feec67ae95dbc2"><div class="ttname"><a href="classHomeMode.html#a5836b1c55e76573ba0feec67ae95dbc2">HomeMode::target_</a></div><div class="ttdeci">float target_</div><div class="ttdoc">Target Z position (e.g. 30 mm) for baseline measurement.</div><div class="ttdef"><b>Definition</b> Modes.h:111</div></div>
<div class="ttc" id="aclassHomeMode_html_a6766aeb9c224266a6f3fefcc1bf511c7"><div class="ttname"><a href="classHomeMode.html#a6766aeb9c224266a6f3fefcc1bf511c7">HomeMode::baselineStart_</a></div><div class="ttdeci">unsigned long baselineStart_</div><div class="ttdoc">Start time (in ms) of the baseline measurement window.</div><div class="ttdef"><b>Definition</b> Modes.h:124</div></div>
<div class="ttc" id="aclassHomeMode_html_a6f709c817816acbc6a1e2e8f2cba30c1"><div class="ttname"><a href="classHomeMode.html#a6f709c817816acbc6a1e2e8f2cba30c1">HomeMode::step</a></div><div class="ttdeci">bool step() override</div><div class="ttdoc">Execute one non-blocking step of the HOME mode state machine.</div><div class="ttdef"><b>Definition</b> Modes.cpp:51</div></div>
<div class="ttc" id="aclassHomeMode_html_a826e4c67e295ed49261d8cf2c3143ebb"><div class="ttname"><a href="classHomeMode.html#a826e4c67e295ed49261d8cf2c3143ebb">HomeMode::HomeMode</a></div><div class="ttdeci">HomeMode(Lcd1602 &amp;lcd, StepperDriver &amp;stepper, uint8_t limitPin, CurrentSensor &amp;current)</div><div class="ttdoc">Construct a new HomeMode instance.</div><div class="ttdef"><b>Definition</b> Modes.h:56</div></div>
<div class="ttc" id="aclassHomeMode_html_a8d998169f0d1e30a0aebad2e7092dd1a"><div class="ttname"><a href="classHomeMode.html#a8d998169f0d1e30a0aebad2e7092dd1a">HomeMode::name</a></div><div class="ttdeci">const char * name() const override</div><div class="ttdoc">Get the name of this mode.</div><div class="ttdef"><b>Definition</b> Modes.h:64</div></div>
<div class="ttc" id="aclassHomeMode_html_ab15a4de72b54a3a96bf7691259f14e00"><div class="ttname"><a href="classHomeMode.html#ab15a4de72b54a3a96bf7691259f14e00">HomeMode::begin</a></div><div class="ttdeci">void begin() override</div><div class="ttdoc">Initialize the HOME mode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:17</div></div>
<div class="ttc" id="aclassHomeMode_html_acd48016409acafc580570814a21d6cc4"><div class="ttname"><a href="classHomeMode.html#acd48016409acafc580570814a21d6cc4">HomeMode::limitPin_</a></div><div class="ttdeci">uint8_t limitPin_</div><div class="ttdoc">Digital input pin connected to the homing limit switch.</div><div class="ttdef"><b>Definition</b> Modes.h:102</div></div>
<div class="ttc" id="aclassHomeMode_html_acf90d8a2712c94fd2affb9f5c8bb20bd"><div class="ttname"><a href="classHomeMode.html#acf90d8a2712c94fd2affb9f5c8bb20bd">HomeMode::lcd_</a></div><div class="ttdeci">Lcd1602 &amp; lcd_</div><div class="ttdoc">Reference to the LCD used for status messages.</div><div class="ttdef"><b>Definition</b> Modes.h:96</div></div>
<div class="ttc" id="aclassHomeMode_html_ad3d70076620a06a871d25733a3114e2c"><div class="ttname"><a href="classHomeMode.html#ad3d70076620a06a871d25733a3114e2c">HomeMode::stepper_</a></div><div class="ttdeci">StepperDriver &amp; stepper_</div><div class="ttdoc">Reference to the stepper driver implementing motion control.</div><div class="ttdef"><b>Definition</b> Modes.h:99</div></div>
<div class="ttc" id="aclassHomeMode_html_add37b5f07d9636bfd143990b78bf81b5"><div class="ttname"><a href="classHomeMode.html#add37b5f07d9636bfd143990b78bf81b5">HomeMode::baselineMeasuring_</a></div><div class="ttdeci">bool baselineMeasuring_</div><div class="ttdoc">Flag indicating that baseline current measurement is in progress.</div><div class="ttdef"><b>Definition</b> Modes.h:116</div></div>
<div class="ttc" id="aclassJogMode_html"><div class="ttname"><a href="classJogMode.html">JogMode</a></div><div class="ttdoc">Manual jogging mode for up/down movement with keypad (JOG).</div><div class="ttdef"><b>Definition</b> Modes.h:461</div></div>
<div class="ttc" id="aclassJogMode_html_a3d50abefbab677778b6b41cd03e9af3a"><div class="ttname"><a href="classJogMode.html#a3d50abefbab677778b6b41cd03e9af3a">JogMode::lcd_</a></div><div class="ttdeci">Lcd1602 &amp; lcd_</div><div class="ttdoc">Reference to the LCD for displaying jog information.</div><div class="ttdef"><b>Definition</b> Modes.h:509</div></div>
<div class="ttc" id="aclassJogMode_html_a566e4e2cc6fc01f80d2c2934fc2e0505"><div class="ttname"><a href="classJogMode.html#a566e4e2cc6fc01f80d2c2934fc2e0505">JogMode::keys_</a></div><div class="ttdeci">KeypadShield &amp; keys_</div><div class="ttdoc">Reference to the keypad used for jog commands.</div><div class="ttdef"><b>Definition</b> Modes.h:512</div></div>
<div class="ttc" id="aclassJogMode_html_a8135de6dbc1dae711b68bd53d5efb34c"><div class="ttname"><a href="classJogMode.html#a8135de6dbc1dae711b68bd53d5efb34c">JogMode::end</a></div><div class="ttdeci">void end() override</div><div class="ttdoc">Cleanup performed when leaving JogMode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:785</div></div>
<div class="ttc" id="aclassJogMode_html_a9cc6173a8d2e0efc25a28a224fb4f369"><div class="ttname"><a href="classJogMode.html#a9cc6173a8d2e0efc25a28a224fb4f369">JogMode::stepper_</a></div><div class="ttdeci">StepperDriver &amp; stepper_</div><div class="ttdoc">Reference to the stepper driver that is being jogged.</div><div class="ttdef"><b>Definition</b> Modes.h:515</div></div>
<div class="ttc" id="aclassJogMode_html_aab8d9c9be8b5ad81f5cb6fb41b8da252"><div class="ttname"><a href="classJogMode.html#aab8d9c9be8b5ad81f5cb6fb41b8da252">JogMode::name</a></div><div class="ttdeci">const char * name() const override</div><div class="ttdoc">Get the name of this mode.</div><div class="ttdef"><b>Definition</b> Modes.h:478</div></div>
<div class="ttc" id="aclassJogMode_html_ab50e857beea45cd3567291829691029a"><div class="ttname"><a href="classJogMode.html#ab50e857beea45cd3567291829691029a">JogMode::firstStep_</a></div><div class="ttdeci">bool firstStep_</div><div class="ttdoc">Flag indicating that the next step call is the first one.</div><div class="ttdef"><b>Definition</b> Modes.h:531</div></div>
<div class="ttc" id="aclassJogMode_html_ac9198309ab3ce358c5af269c773ce04f"><div class="ttname"><a href="classJogMode.html#ac9198309ab3ce358c5af269c773ce04f">JogMode::JogMode</a></div><div class="ttdeci">JogMode(Lcd1602 &amp;lcd, KeypadShield &amp;keys, StepperDriver &amp;stepper)</div><div class="ttdoc">Construct a new JogMode instance.</div><div class="ttdef"><b>Definition</b> Modes.h:470</div></div>
<div class="ttc" id="aclassJogMode_html_ac9851d5ae59f910d10f416806a3c33a1"><div class="ttname"><a href="classJogMode.html#ac9851d5ae59f910d10f416806a3c33a1">JogMode::begin</a></div><div class="ttdeci">void begin() override</div><div class="ttdoc">Initialize JogMode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:706</div></div>
<div class="ttc" id="aclassJogMode_html_ad4fa13b121783048cd1b04cf8bef04de"><div class="ttname"><a href="classJogMode.html#ad4fa13b121783048cd1b04cf8bef04de">JogMode::step</a></div><div class="ttdeci">bool step() override</div><div class="ttdoc">Execute one step of JOG behavior.</div><div class="ttdef"><b>Definition</b> Modes.cpp:729</div></div>
<div class="ttc" id="aclassJogMode_html_af745c7359e7f825d052001113caf263e"><div class="ttname"><a href="classJogMode.html#af745c7359e7f825d052001113caf263e">JogMode::uiTick_</a></div><div class="ttdeci">uint32_t uiTick_</div><div class="ttdoc">Timestamp (ms) used to pace LCD updates.</div><div class="ttdef"><b>Definition</b> Modes.h:523</div></div>
<div class="ttc" id="aclassKeypadShield_html"><div class="ttname"><a href="classKeypadShield.html">KeypadShield</a></div><div class="ttdoc">Non-blocking keypad handler for analog-resistor ladder shields.</div><div class="ttdef"><b>Definition</b> KeypadShield.h:28</div></div>
<div class="ttc" id="aclassLcd1602_html"><div class="ttname"><a href="classLcd1602.html">Lcd1602</a></div><div class="ttdoc">Wrapper class for a 16x2 HD44780-compatible LCD with PWM backlight control.</div><div class="ttdef"><b>Definition</b> Lcd1602.h:17</div></div>
<div class="ttc" id="aclassMod1Mode_html"><div class="ttname"><a href="classMod1Mode.html">Mod1Mode</a></div><div class="ttdoc">Mode for surface detection and etching using a 30 V supply (MOD1).</div><div class="ttdef"><b>Definition</b> Modes.h:147</div></div>
<div class="ttc" id="aclassMod1Mode_html_a008ea5a4d081ba35eab5e05a17ce1f1b"><div class="ttname"><a href="classMod1Mode.html#a008ea5a4d081ba35eab5e05a17ce1f1b">Mod1Mode::waitStart_</a></div><div class="ttdeci">unsigned long waitStart_</div><div class="ttdoc">Generic wait-start timestamp used in various timed states.</div><div class="ttdef"><b>Definition</b> Modes.h:263</div></div>
<div class="ttc" id="aclassMod1Mode_html_a18e065e99d9d6ca66ac58dae44f10e69"><div class="ttname"><a href="classMod1Mode.html#a18e065e99d9d6ca66ac58dae44f10e69">Mod1Mode::threshold_</a></div><div class="ttdeci">float threshold_</div><div class="ttdoc">Surface detection threshold based on corrected RMS current.</div><div class="ttdef"><b>Definition</b> Modes.h:245</div></div>
<div class="ttc" id="aclassMod1Mode_html_a1a1e430f8f6a32af3671a18af213ccf2"><div class="ttname"><a href="classMod1Mode.html#a1a1e430f8f6a32af3671a18af213ccf2">Mod1Mode::lcd_</a></div><div class="ttdeci">Lcd1602 &amp; lcd_</div><div class="ttdoc">Reference to LCD for on-screen messages and prompts.</div><div class="ttdef"><b>Definition</b> Modes.h:230</div></div>
<div class="ttc" id="aclassMod1Mode_html_a1c9db06f96af3472ee0338a922bd02ee"><div class="ttname"><a href="classMod1Mode.html#a1c9db06f96af3472ee0338a922bd02ee">Mod1Mode::relayPin2_</a></div><div class="ttdeci">uint8_t relayPin2_</div><div class="ttdoc">Second relay control pin used for high-voltage switching.</div><div class="ttdef"><b>Definition</b> Modes.h:239</div></div>
<div class="ttc" id="aclassMod1Mode_html_a230117739fe117efd3e5c41ec4594c67"><div class="ttname"><a href="classMod1Mode.html#a230117739fe117efd3e5c41ec4594c67">Mod1Mode::st_</a></div><div class="ttdeci">State st_</div><div class="ttdoc">Current state in the MOD1 state machine.</div><div class="ttdef"><b>Definition</b> Modes.h:260</div></div>
<div class="ttc" id="aclassMod1Mode_html_a3673a808117ccd9fbda4610bcea3db2c"><div class="ttname"><a href="classMod1Mode.html#a3673a808117ccd9fbda4610bcea3db2c">Mod1Mode::Iavg_</a></div><div class="ttdeci">IAvg_t &amp; Iavg_</div><div class="ttdoc">Long-window moving average for current during etching/hold.</div><div class="ttdef"><b>Definition</b> Modes.h:254</div></div>
<div class="ttc" id="aclassMod1Mode_html_a49d547c97ee1d6c8bfb21a695de56ac4"><div class="ttname"><a href="classMod1Mode.html#a49d547c97ee1d6c8bfb21a695de56ac4">Mod1Mode::etchingThreshold_</a></div><div class="ttdeci">float etchingThreshold_</div><div class="ttdoc">Threshold for terminating etching based on current drop.</div><div class="ttdef"><b>Definition</b> Modes.h:248</div></div>
<div class="ttc" id="aclassMod1Mode_html_a5f4ac36be6423206177fa2c20fa48e74"><div class="ttname"><a href="classMod1Mode.html#a5f4ac36be6423206177fa2c20fa48e74">Mod1Mode::bumpedUp1mm_</a></div><div class="ttdeci">bool bumpedUp1mm_</div><div class="ttdoc">Flag indicating whether a single upward bump has already been applied.</div><div class="ttdef"><b>Definition</b> Modes.h:286</div></div>
<div class="ttc" id="aclassMod1Mode_html_a7b4f2b9ca4175c56ecfea947fe1c249a"><div class="ttname"><a href="classMod1Mode.html#a7b4f2b9ca4175c56ecfea947fe1c249a">Mod1Mode::current_</a></div><div class="ttdeci">CurrentSensor &amp; current_</div><div class="ttdoc">Reference to the current sensor for threshold-based decisions.</div><div class="ttdef"><b>Definition</b> Modes.h:242</div></div>
<div class="ttc" id="aclassMod1Mode_html_a8afb69c5a4ddc402cc7b8c7b9337087b"><div class="ttname"><a href="classMod1Mode.html#a8afb69c5a4ddc402cc7b8c7b9337087b">Mod1Mode::end</a></div><div class="ttdeci">void end() override</div><div class="ttdoc">Cleanup performed when leaving MOD1 mode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:386</div></div>
<div class="ttc" id="aclassMod1Mode_html_a8b6ee9353fc4804fa165924396446da3"><div class="ttname"><a href="classMod1Mode.html#a8b6ee9353fc4804fa165924396446da3">Mod1Mode::IavgS_</a></div><div class="ttdeci">IAvg_s &amp; IavgS_</div><div class="ttdoc">Short-window moving average for current during detection/validation.</div><div class="ttdef"><b>Definition</b> Modes.h:257</div></div>
<div class="ttc" id="aclassMod1Mode_html_a8c102d799b69344a8abcbd5741940b2b"><div class="ttname"><a href="classMod1Mode.html#a8c102d799b69344a8abcbd5741940b2b">Mod1Mode::stopTime_</a></div><div class="ttdeci">unsigned long stopTime_</div><div class="ttdoc">Timestamp (ms) when motion was stopped (useful for diagnostics).</div><div class="ttdef"><b>Definition</b> Modes.h:278</div></div>
<div class="ttc" id="aclassMod1Mode_html_a8d665cf0bd3c0ec8b018eda0311891ab"><div class="ttname"><a href="classMod1Mode.html#a8d665cf0bd3c0ec8b018eda0311891ab">Mod1Mode::relayPin1_</a></div><div class="ttdeci">uint8_t relayPin1_</div><div class="ttdoc">First relay control pin used for high-voltage switching.</div><div class="ttdef"><b>Definition</b> Modes.h:236</div></div>
<div class="ttc" id="aclassMod1Mode_html_aa884f035b65ce51ffabaae4272c821ad"><div class="ttname"><a href="classMod1Mode.html#aa884f035b65ce51ffabaae4272c821ad">Mod1Mode::stepper_</a></div><div class="ttdeci">StepperDriver &amp; stepper_</div><div class="ttdoc">Reference to the stepper driver controlling motion.</div><div class="ttdef"><b>Definition</b> Modes.h:233</div></div>
<div class="ttc" id="aclassMod1Mode_html_aad1c94ccf5c22ed744983fff2414d944"><div class="ttname"><a href="classMod1Mode.html#aad1c94ccf5c22ed744983fff2414d944">Mod1Mode::validateStart_</a></div><div class="ttdeci">unsigned long validateStart_</div><div class="ttdoc">Timestamp (ms) marking the beginning of the 30 V validation phase.</div><div class="ttdef"><b>Definition</b> Modes.h:266</div></div>
<div class="ttc" id="aclassMod1Mode_html_aadad9fda5d6a8d6cea341a1ee0fdb460"><div class="ttname"><a href="classMod1Mode.html#aadad9fda5d6a8d6cea341a1ee0fdb460">Mod1Mode::etchStart_</a></div><div class="ttdeci">unsigned long etchStart_</div><div class="ttdoc">Timestamp (ms) when 30 V was turned on (start of etching/hold).</div><div class="ttdef"><b>Definition</b> Modes.h:251</div></div>
<div class="ttc" id="aclassMod1Mode_html_ab6905c6a718c0e904fca48fb9bdeb9a9"><div class="ttname"><a href="classMod1Mode.html#ab6905c6a718c0e904fca48fb9bdeb9a9">Mod1Mode::name</a></div><div class="ttdeci">const char * name() const override</div><div class="ttdoc">Get the name of this mode.</div><div class="ttdef"><b>Definition</b> Modes.h:170</div></div>
<div class="ttc" id="aclassMod1Mode_html_abec39d535bc6521f3f5d9726cf0ade0a"><div class="ttname"><a href="classMod1Mode.html#abec39d535bc6521f3f5d9726cf0ade0a">Mod1Mode::relayOn_</a></div><div class="ttdeci">bool relayOn_</div><div class="ttdoc">Flag indicating whether the relay is currently ON (true) or OFF (false).</div><div class="ttdef"><b>Definition</b> Modes.h:275</div></div>
<div class="ttc" id="aclassMod1Mode_html_aca5d7fc6351f06fb181fa358024138a8"><div class="ttname"><a href="classMod1Mode.html#aca5d7fc6351f06fb181fa358024138a8">Mod1Mode::begin</a></div><div class="ttdeci">void begin() override</div><div class="ttdoc">Initialize MOD1 mode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:162</div></div>
<div class="ttc" id="aclassMod1Mode_html_ae61c181065b3b6f32a15c53b6eb7a890"><div class="ttname"><a href="classMod1Mode.html#ae61c181065b3b6f32a15c53b6eb7a890">Mod1Mode::Mod1Mode</a></div><div class="ttdeci">Mod1Mode(Lcd1602 &amp;lcd, StepperDriver &amp;stepper, uint8_t relayPin1, uint8_t relayPin2, CurrentSensor &amp;current, float currentThreshold, float etchingThreshold, IAvg_t &amp;Iavg, IAvg_s &amp;IavgS)</div><div class="ttdoc">Construct a new Mod1Mode instance.</div><div class="ttdef"><b>Definition</b> Modes.h:162</div></div>
<div class="ttc" id="aclassMod1Mode_html_ae95d497781fa1671867103238c908294"><div class="ttname"><a href="classMod1Mode.html#ae95d497781fa1671867103238c908294">Mod1Mode::pulseStart_</a></div><div class="ttdeci">unsigned long pulseStart_</div><div class="ttdoc">Timestamp (ms) of the start of the current pulse phase.</div><div class="ttdef"><b>Definition</b> Modes.h:272</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa25559d8259a3e4dfd9bf13a9cbc76e"><div class="ttname"><a href="classMod1Mode.html#afa25559d8259a3e4dfd9bf13a9cbc76e">Mod1Mode::pulseCount_</a></div><div class="ttdeci">uint8_t pulseCount_</div><div class="ttdoc">Count of relay pulse cycles executed (if pulses are used).</div><div class="ttdef"><b>Definition</b> Modes.h:269</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbf"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbf">Mod1Mode::State</a></div><div class="ttdeci">State</div><div class="ttdoc">Internal state machine for MOD1 mode.</div><div class="ttdef"><b>Definition</b> Modes.h:216</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfa0aea9cb3445215834a9c673e8a87afb0"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa0aea9cb3445215834a9c673e8a87afb0">Mod1Mode::State::Wait1</a></div><div class="ttdeci">@ Wait1</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfa0e8f4b6b678f165db16f833d2fa58224"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa0e8f4b6b678f165db16f833d2fa58224">Mod1Mode::State::Wait2</a></div><div class="ttdeci">@ Wait2</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfa4f43702c684b13d2eb3c97f642cb4c62"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa4f43702c684b13d2eb3c97f642cb4c62">Mod1Mode::State::FinalLift</a></div><div class="ttdeci">@ FinalLift</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfa8aea1adee73ee3db9d7af9ac624bdeac"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa8aea1adee73ee3db9d7af9ac624bdeac">Mod1Mode::State::Etching</a></div><div class="ttdeci">@ Etching</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfa94d75119d47b1832d9f82c203d4ec3cc"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfa94d75119d47b1832d9f82c203d4ec3cc">Mod1Mode::State::Validate30V</a></div><div class="ttdeci">@ Validate30V</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfadac93ad190ed07fce4282d1ca15e7107"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfadac93ad190ed07fce4282d1ca15e7107">Mod1Mode::State::MoveUpBump</a></div><div class="ttdeci">@ MoveUpBump</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfae5d725300be2a3224f5ef30d542cc8a1"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfae5d725300be2a3224f5ef30d542cc8a1">Mod1Mode::State::MoveDown1</a></div><div class="ttdeci">@ MoveDown1</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfaee175b2d6ca4f79e6620824b6218a105"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfaee175b2d6ca4f79e6620824b6218a105">Mod1Mode::State::RelayHold</a></div><div class="ttdeci">@ RelayHold</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfaf92965e2c8a7afb3c1b9a5c09a263636"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfaf92965e2c8a7afb3c1b9a5c09a263636">Mod1Mode::State::Done</a></div><div class="ttdeci">@ Done</div></div>
<div class="ttc" id="aclassMod1Mode_html_afa92ba8d7ed8dbe6a7a734de853a8dbfafa585d32a02170e5d4aada3bd490a1b3"><div class="ttname"><a href="classMod1Mode.html#afa92ba8d7ed8dbe6a7a734de853a8dbfafa585d32a02170e5d4aada3bd490a1b3">Mod1Mode::State::MovingDownDetect</a></div><div class="ttdeci">@ MovingDownDetect</div></div>
<div class="ttc" id="aclassMod1Mode_html_aff19c0fd5e81f9f9cbd25e4efea6b9a4"><div class="ttname"><a href="classMod1Mode.html#aff19c0fd5e81f9f9cbd25e4efea6b9a4">Mod1Mode::step</a></div><div class="ttdeci">bool step() override</div><div class="ttdoc">Execute one step of the MOD1 state machine.</div><div class="ttdef"><b>Definition</b> Modes.cpp:209</div></div>
<div class="ttc" id="aclassMod2Mode_html"><div class="ttname"><a href="classMod2Mode.html">Mod2Mode</a></div><div class="ttdoc">Mode for surface detection, etching validation, and pulsed 9 V processing (MOD2).</div><div class="ttdef"><b>Definition</b> Modes.h:301</div></div>
<div class="ttc" id="aclassMod2Mode_html_a0187d4704a760def10d52f653c50159b"><div class="ttname"><a href="classMod2Mode.html#a0187d4704a760def10d52f653c50159b">Mod2Mode::stepper_</a></div><div class="ttdeci">StepperDriver &amp; stepper_</div><div class="ttdoc">Reference to the stepper driver for Z motion.</div><div class="ttdef"><b>Definition</b> Modes.h:407</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97">Mod2Mode::State</a></div><div class="ttdeci">State</div><div class="ttdoc">Internal state machine for MOD2 mode.</div><div class="ttdef"><b>Definition</b> Modes.h:388</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97a0aea9cb3445215834a9c673e8a87afb0"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a0aea9cb3445215834a9c673e8a87afb0">Mod2Mode::State::Wait1</a></div><div class="ttdeci">@ Wait1</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97a0e8f4b6b678f165db16f833d2fa58224"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a0e8f4b6b678f165db16f833d2fa58224">Mod2Mode::State::Wait2</a></div><div class="ttdeci">@ Wait2</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97a13b54a41a2963717ba261533d6679ec0"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a13b54a41a2963717ba261533d6679ec0">Mod2Mode::State::MoveDown2</a></div><div class="ttdeci">@ MoveDown2</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97a22c82b647ac61b701febb720888a8fbb"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a22c82b647ac61b701febb720888a8fbb">Mod2Mode::State::Wait3</a></div><div class="ttdeci">@ Wait3</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97a4f43702c684b13d2eb3c97f642cb4c62"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a4f43702c684b13d2eb3c97f642cb4c62">Mod2Mode::State::FinalLift</a></div><div class="ttdeci">@ FinalLift</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97a80cc480f21ef8694cbd0a3820a07996a"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a80cc480f21ef8694cbd0a3820a07996a">Mod2Mode::State::RelayPulse</a></div><div class="ttdeci">@ RelayPulse</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97a94d75119d47b1832d9f82c203d4ec3cc"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97a94d75119d47b1832d9f82c203d4ec3cc">Mod2Mode::State::Validate30V</a></div><div class="ttdeci">@ Validate30V</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97ac93375fedfa466e246febcd4d7be738b"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97ac93375fedfa466e246febcd4d7be738b">Mod2Mode::State::Wait4</a></div><div class="ttdeci">@ Wait4</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97ae5d725300be2a3224f5ef30d542cc8a1"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97ae5d725300be2a3224f5ef30d542cc8a1">Mod2Mode::State::MoveDown1</a></div><div class="ttdeci">@ MoveDown1</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97aee175b2d6ca4f79e6620824b6218a105"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97aee175b2d6ca4f79e6620824b6218a105">Mod2Mode::State::RelayHold</a></div><div class="ttdeci">@ RelayHold</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97af92965e2c8a7afb3c1b9a5c09a263636"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97af92965e2c8a7afb3c1b9a5c09a263636">Mod2Mode::State::Done</a></div><div class="ttdeci">@ Done</div></div>
<div class="ttc" id="aclassMod2Mode_html_a05b9dc474c68a70b9d04a217c30e7e97afa585d32a02170e5d4aada3bd490a1b3"><div class="ttname"><a href="classMod2Mode.html#a05b9dc474c68a70b9d04a217c30e7e97afa585d32a02170e5d4aada3bd490a1b3">Mod2Mode::State::MovingDownDetect</a></div><div class="ttdeci">@ MovingDownDetect</div></div>
<div class="ttc" id="aclassMod2Mode_html_a0f1d92665e2e76621d86460e6a6b67e1"><div class="ttname"><a href="classMod2Mode.html#a0f1d92665e2e76621d86460e6a6b67e1">Mod2Mode::step</a></div><div class="ttdeci">bool step() override</div><div class="ttdoc">Execute one step of the MOD2 state machine.</div><div class="ttdef"><b>Definition</b> Modes.cpp:449</div></div>
<div class="ttc" id="aclassMod2Mode_html_a0fa0d62e0279bc87e128dddf7508da57"><div class="ttname"><a href="classMod2Mode.html#a0fa0d62e0279bc87e128dddf7508da57">Mod2Mode::end</a></div><div class="ttdeci">void end() override</div><div class="ttdoc">Cleanup performed when leaving MOD2 mode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:687</div></div>
<div class="ttc" id="aclassMod2Mode_html_a0fb9e060e1716ae9c15d25667c09c1e5"><div class="ttname"><a href="classMod2Mode.html#a0fb9e060e1716ae9c15d25667c09c1e5">Mod2Mode::begin</a></div><div class="ttdeci">void begin() override</div><div class="ttdoc">Initialize MOD2 mode.</div><div class="ttdef"><b>Definition</b> Modes.cpp:406</div></div>
<div class="ttc" id="aclassMod2Mode_html_a1f5a4f421c8a4dc8a2ace8744d1aed20"><div class="ttname"><a href="classMod2Mode.html#a1f5a4f421c8a4dc8a2ace8744d1aed20">Mod2Mode::pulseCount_</a></div><div class="ttdeci">uint8_t pulseCount_</div><div class="ttdoc">Number of 9 V pulse cycles executed.</div><div class="ttdef"><b>Definition</b> Modes.h:449</div></div>
<div class="ttc" id="aclassMod2Mode_html_a439e7f505f8461afc46673f93a8ada0b"><div class="ttname"><a href="classMod2Mode.html#a439e7f505f8461afc46673f93a8ada0b">Mod2Mode::threshold_</a></div><div class="ttdeci">float threshold_</div><div class="ttdoc">Threshold for initial surface detection based on current.</div><div class="ttdef"><b>Definition</b> Modes.h:419</div></div>
<div class="ttc" id="aclassMod2Mode_html_a673450877df759da1ef7dac79bcdf163"><div class="ttname"><a href="classMod2Mode.html#a673450877df759da1ef7dac79bcdf163">Mod2Mode::relayOn_</a></div><div class="ttdeci">bool relayOn_</div><div class="ttdoc">Flag indicating whether the relay is currently ON (true) or OFF (false).</div><div class="ttdef"><b>Definition</b> Modes.h:446</div></div>
<div class="ttc" id="aclassMod2Mode_html_a699e628dfc0d4bc44e1c75526b47c77d"><div class="ttname"><a href="classMod2Mode.html#a699e628dfc0d4bc44e1c75526b47c77d">Mod2Mode::pulseStart_</a></div><div class="ttdeci">unsigned long pulseStart_</div><div class="ttdoc">Timestamp (ms) marking the start of the current pulse phase.</div><div class="ttdef"><b>Definition</b> Modes.h:440</div></div>
<div class="ttc" id="aclassMod2Mode_html_a731cd289d53899ef9aa66486de9a6468"><div class="ttname"><a href="classMod2Mode.html#a731cd289d53899ef9aa66486de9a6468">Mod2Mode::relayPin2_</a></div><div class="ttdeci">uint8_t relayPin2_</div><div class="ttdoc">Second relay control pin (HV switching).</div><div class="ttdef"><b>Definition</b> Modes.h:413</div></div>
<div class="ttc" id="aclassMod2Mode_html_a9198f93d5b2e1e6f9cf4577918d3180f"><div class="ttname"><a href="classMod2Mode.html#a9198f93d5b2e1e6f9cf4577918d3180f">Mod2Mode::validateStart_</a></div><div class="ttdeci">unsigned long validateStart_</div><div class="ttdoc">Timestamp (ms) marking the start of the 30 V validation phase.</div><div class="ttdef"><b>Definition</b> Modes.h:437</div></div>
<div class="ttc" id="aclassMod2Mode_html_a9bf1cab467b095d0ae9b17fcfa6451a7"><div class="ttname"><a href="classMod2Mode.html#a9bf1cab467b095d0ae9b17fcfa6451a7">Mod2Mode::name</a></div><div class="ttdeci">const char * name() const override</div><div class="ttdoc">Get the name of this mode.</div><div class="ttdef"><b>Definition</b> Modes.h:340</div></div>
<div class="ttc" id="aclassMod2Mode_html_aa5d6e58dfe54cf2be8133cddb041c577"><div class="ttname"><a href="classMod2Mode.html#aa5d6e58dfe54cf2be8133cddb041c577">Mod2Mode::lcd_</a></div><div class="ttdeci">Lcd1602 &amp; lcd_</div><div class="ttdoc">Reference to the LCD for user-facing messages.</div><div class="ttdef"><b>Definition</b> Modes.h:404</div></div>
<div class="ttc" id="aclassMod2Mode_html_aa8ec23fa8b6bcd91d8916f7ced25762d"><div class="ttname"><a href="classMod2Mode.html#aa8ec23fa8b6bcd91d8916f7ced25762d">Mod2Mode::etchingThreshold_</a></div><div class="ttdeci">float etchingThreshold_</div><div class="ttdoc">Threshold for decisions during etching/hold stages.</div><div class="ttdef"><b>Definition</b> Modes.h:422</div></div>
<div class="ttc" id="aclassMod2Mode_html_ab81cd1d51870e3b5060a80c179e37f1c"><div class="ttname"><a href="classMod2Mode.html#ab81cd1d51870e3b5060a80c179e37f1c">Mod2Mode::current_</a></div><div class="ttdeci">CurrentSensor &amp; current_</div><div class="ttdoc">Reference to the current sensor used for current-based thresholds.</div><div class="ttdef"><b>Definition</b> Modes.h:416</div></div>
<div class="ttc" id="aclassMod2Mode_html_ac49ade6646e730321903056827031d78"><div class="ttname"><a href="classMod2Mode.html#ac49ade6646e730321903056827031d78">Mod2Mode::Iavg_</a></div><div class="ttdeci">IAvg_t &amp; Iavg_</div><div class="ttdoc">Long-window moving average for current.</div><div class="ttdef"><b>Definition</b> Modes.h:425</div></div>
<div class="ttc" id="aclassMod2Mode_html_ad914a80d319035fb63ff732c83ba21fa"><div class="ttname"><a href="classMod2Mode.html#ad914a80d319035fb63ff732c83ba21fa">Mod2Mode::etchStart_</a></div><div class="ttdeci">unsigned long etchStart_</div><div class="ttdoc">Timestamp (ms) marking the start of the 30 V hold/etching phase.</div><div class="ttdef"><b>Definition</b> Modes.h:443</div></div>
<div class="ttc" id="aclassMod2Mode_html_ad948f1dc269eccd1020ff5653dc14a47"><div class="ttname"><a href="classMod2Mode.html#ad948f1dc269eccd1020ff5653dc14a47">Mod2Mode::st_</a></div><div class="ttdeci">State st_</div><div class="ttdoc">Current state in the MOD2 state machine.</div><div class="ttdef"><b>Definition</b> Modes.h:431</div></div>
<div class="ttc" id="aclassMod2Mode_html_adbe17078a45c1b52f8a519255363c0aa"><div class="ttname"><a href="classMod2Mode.html#adbe17078a45c1b52f8a519255363c0aa">Mod2Mode::Mod2Mode</a></div><div class="ttdeci">Mod2Mode(Lcd1602 &amp;lcd, StepperDriver &amp;stepper, uint8_t relayPin1, uint8_t relayPin2, CurrentSensor &amp;current, float surfaceThreshold, float etchingThreshold, IAvg_t &amp;Iavg, IAvg_s &amp;IavgS)</div><div class="ttdoc">Construct a new Mod2Mode instance.</div><div class="ttdef"><b>Definition</b> Modes.h:316</div></div>
<div class="ttc" id="aclassMod2Mode_html_adee39dcd26380c3e6a8ed61ae3c911c5"><div class="ttname"><a href="classMod2Mode.html#adee39dcd26380c3e6a8ed61ae3c911c5">Mod2Mode::relayPin1_</a></div><div class="ttdeci">uint8_t relayPin1_</div><div class="ttdoc">First relay control pin (HV switching).</div><div class="ttdef"><b>Definition</b> Modes.h:410</div></div>
<div class="ttc" id="aclassMod2Mode_html_aebb173f31d1b76d8d8d3852fbd9582bd"><div class="ttname"><a href="classMod2Mode.html#aebb173f31d1b76d8d8d3852fbd9582bd">Mod2Mode::waitStart_</a></div><div class="ttdeci">unsigned long waitStart_</div><div class="ttdoc">Generic timestamp (ms) used for various waits.</div><div class="ttdef"><b>Definition</b> Modes.h:434</div></div>
<div class="ttc" id="aclassMod2Mode_html_afdd9b4d7e00c12dabb6b85fbf7f5a0c2"><div class="ttname"><a href="classMod2Mode.html#afdd9b4d7e00c12dabb6b85fbf7f5a0c2">Mod2Mode::IavgS_</a></div><div class="ttdeci">IAvg_s &amp; IavgS_</div><div class="ttdoc">Short-window moving average for current.</div><div class="ttdef"><b>Definition</b> Modes.h:428</div></div>
<div class="ttc" id="aclassMovingAverage_html"><div class="ttname"><a href="classMovingAverage.html">MovingAverage</a></div><div class="ttdoc">Fixed-point, static moving average filter.</div><div class="ttdef"><b>Definition</b> MovingAverage.h:24</div></div>
<div class="ttc" id="aclassStepperDriver_html"><div class="ttname"><a href="classStepperDriver.html">StepperDriver</a></div><div class="ttdoc">Non-blocking stepper motor driver with position and velocity control.</div><div class="ttdef"><b>Definition</b> StepperDriver.h:20</div></div>
<div class="ttc" id="astructIMode_html"><div class="ttname"><a href="structIMode.html">IMode</a></div><div class="ttdoc">Interface for non-blocking machine modes.</div><div class="ttdef"><b>Definition</b> IMode.h:18</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
